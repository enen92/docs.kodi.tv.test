<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kodi Docs: Library - xbmcdrm</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Thumbnail-symbol-whitebg-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kodi Docs<span id="projectnumber">&#160;20.0</span>
   </div>
   <div id="projectbrief">Kodi is an open source media player and entertainment hub.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/d2c/group__python__xbmcdrm.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Library - xbmcdrm<div class="ingroups"><a class="el" href="../../de/d69/group__python.html">Python</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><b>Kodi's DRM class.</b>  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d10/class_x_b_m_c_addon_1_1xbmcdrm_1_1_crypto_session.html">XBMCAddon::xbmcdrm::CryptoSession</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga80edf9cf1c283f3d7ba3660cd52b90fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#ga80edf9cf1c283f3d7ba3660cd52b90fc">XBMCAddon::xbmcdrm::CryptoSession::GetKeyRequest</a> (...)</td></tr>
<tr class="memdesc:ga80edf9cf1c283f3d7ba3660cd52b90fc"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> GetKeyRequest(init, mimeType, offlineKey, optionalParameters) </big></font></span></code></h4><hr>  Generate a key request  <a href="../../dc/d2c/group__python__xbmcdrm.html#ga80edf9cf1c283f3d7ba3660cd52b90fc">More...</a><br /></td></tr>
<tr class="separator:ga80edf9cf1c283f3d7ba3660cd52b90fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae71f93fcde2b81721c598d5c020a5dcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#gae71f93fcde2b81721c598d5c020a5dcd">XBMCAddon::xbmcdrm::CryptoSession::GetPropertyString</a> (...)</td></tr>
<tr class="memdesc:gae71f93fcde2b81721c598d5c020a5dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> GetPropertyString(name) </big></font></span></code></h4><hr>  Request a system specific property value of the DRM system.  <a href="../../dc/d2c/group__python__xbmcdrm.html#gae71f93fcde2b81721c598d5c020a5dcd">More...</a><br /></td></tr>
<tr class="separator:gae71f93fcde2b81721c598d5c020a5dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04150e20b333f4772456ba1ae5e603be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#ga04150e20b333f4772456ba1ae5e603be">XBMCAddon::xbmcdrm::CryptoSession::ProvideKeyResponse</a> (...)</td></tr>
<tr class="memdesc:ga04150e20b333f4772456ba1ae5e603be"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> ProvideKeyResponse(response) </big></font></span></code></h4><hr>  Provide a key response  <a href="../../dc/d2c/group__python__xbmcdrm.html#ga04150e20b333f4772456ba1ae5e603be">More...</a><br /></td></tr>
<tr class="separator:ga04150e20b333f4772456ba1ae5e603be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga453de81d0d6b17a95cd0d673dcf67903"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#ga453de81d0d6b17a95cd0d673dcf67903">XBMCAddon::xbmcdrm::CryptoSession::RemoveKeys</a> (...)</td></tr>
<tr class="memdesc:ga453de81d0d6b17a95cd0d673dcf67903"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> RemoveKeys() </big></font></span></code></h4><hr>  Removes all keys currently loaded in a session.  <a href="../../dc/d2c/group__python__xbmcdrm.html#ga453de81d0d6b17a95cd0d673dcf67903">More...</a><br /></td></tr>
<tr class="separator:ga453de81d0d6b17a95cd0d673dcf67903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f63f2b1cb6ea5d4d4eb7fb3460d1736"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#ga3f63f2b1cb6ea5d4d4eb7fb3460d1736">XBMCAddon::xbmcdrm::CryptoSession::RestoreKeys</a> (...)</td></tr>
<tr class="memdesc:ga3f63f2b1cb6ea5d4d4eb7fb3460d1736"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> RestoreKeys(keySetId) </big></font></span></code></h4><hr>  Restores session keys stored during previous <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_ProvideKeyResponse">ProvideKeyResponse</a> call. <a class="anchor" id="xbmcdrm_RestoreKeys"></a> <a href="../../dc/d2c/group__python__xbmcdrm.html#ga3f63f2b1cb6ea5d4d4eb7fb3460d1736">More...</a><br /></td></tr>
<tr class="separator:ga3f63f2b1cb6ea5d4d4eb7fb3460d1736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa753dc359c8bac592f3a5dc2eb09223a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#gaa753dc359c8bac592f3a5dc2eb09223a">XBMCAddon::xbmcdrm::CryptoSession::SetPropertyString</a> (...)</td></tr>
<tr class="memdesc:gaa753dc359c8bac592f3a5dc2eb09223a"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> SetPropertyString(name, value) </big></font></span></code></h4><hr>  Set a system specific property value in the DRM system.  <a href="../../dc/d2c/group__python__xbmcdrm.html#gaa753dc359c8bac592f3a5dc2eb09223a">More...</a><br /></td></tr>
<tr class="separator:gaa753dc359c8bac592f3a5dc2eb09223a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d4847add8750a13b41fd64cd2fa5026"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#ga1d4847add8750a13b41fd64cd2fa5026">XBMCAddon::xbmcdrm::CryptoSession::Decrypt</a> (...)</td></tr>
<tr class="memdesc:ga1d4847add8750a13b41fd64cd2fa5026"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Decrypt(cipherKeyId, input, iv) </big></font></span></code></h4><hr>  Decrypt an encrypted data by using session keys.  <a href="../../dc/d2c/group__python__xbmcdrm.html#ga1d4847add8750a13b41fd64cd2fa5026">More...</a><br /></td></tr>
<tr class="separator:ga1d4847add8750a13b41fd64cd2fa5026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8277d00bc469899f100d790a2c0bbb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#gaa8277d00bc469899f100d790a2c0bbb1">XBMCAddon::xbmcdrm::CryptoSession::Encrypt</a> (...)</td></tr>
<tr class="memdesc:gaa8277d00bc469899f100d790a2c0bbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Encrypt(cipherKeyId, input, iv) </big></font></span></code></h4><hr>  Encrypt data by using session keys.  <a href="../../dc/d2c/group__python__xbmcdrm.html#gaa8277d00bc469899f100d790a2c0bbb1">More...</a><br /></td></tr>
<tr class="separator:gaa8277d00bc469899f100d790a2c0bbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2a21c32eca82e21fe60497dc51088c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#gaf2a21c32eca82e21fe60497dc51088c7">XBMCAddon::xbmcdrm::CryptoSession::Sign</a> (...)</td></tr>
<tr class="memdesc:gaf2a21c32eca82e21fe60497dc51088c7"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Sign(macKeyId, message) </big></font></span></code></h4><hr>  Generate a DRM encrypted signature for a text message.  <a href="../../dc/d2c/group__python__xbmcdrm.html#gaf2a21c32eca82e21fe60497dc51088c7">More...</a><br /></td></tr>
<tr class="separator:gaf2a21c32eca82e21fe60497dc51088c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a3f907e0fa2f934f1f95a34ca68842f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#ga1a3f907e0fa2f934f1f95a34ca68842f">XBMCAddon::xbmcdrm::CryptoSession::Verify</a> (...)</td></tr>
<tr class="memdesc:ga1a3f907e0fa2f934f1f95a34ca68842f"><td class="mdescLeft">&#160;</td><td class="mdescRight"> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Verify(macKeyId, message, signature) </big></font></span></code></h4><hr>  Verify the validity of a DRM signature of a text message.  <a href="../../dc/d2c/group__python__xbmcdrm.html#ga1a3f907e0fa2f934f1f95a34ca68842f">More...</a><br /></td></tr>
<tr class="separator:ga1a3f907e0fa2f934f1f95a34ca68842f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p ><b>Kodi's DRM class.</b> </p>
<p >Offers classes and functions that allow a developer to work with DRM-protected contents like Widevine.</p>
<p >This type of functionality is closely related to the type of DRM used and the service to be implemented.</p>
<p >Using the <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_CryptoSession">CryptoSession</a> constructor allow you to have access to a DRM session. With a DRM session you can read and write the DRM properties <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_GetPropertyString">GetPropertyString</a>, <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_SetPropertyString">SetPropertyString</a> and establish session keys with GetKeyRequest and <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_ProvideKeyResponse">ProvideKeyResponse</a>, or resume previous session keys with <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_RestoreKeys">RestoreKeys</a>.</p>
<p >When the session keys are established you can use these methods to perform various operations: <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_Encrypt">Encrypt</a> / <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_Decrypt">Decrypt</a> for data encryption / decryption, <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_Sign">Sign</a> / <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_Verify">Verify</a> for make or verify data-signature. Useful for example to implement encrypted communication between a client and the server.</p>
<p >An example where such functionality is useful is the Message Security Layer (MSL) transmission protocol used in some VOD applications. This protocol (or rather framework) is used to increase the level of security in the exchange of messages (such as licences, manifests or other data), which defines a security extension / layer on top of the <a class="el" href="../../d3/d8c/namespace_h_t_t_p.html">HTTP</a> protocol.</p>
<hr  />
<p> Constructor for DRM crypto session</p>
<p ><a class="anchor" id="xbmcdrm_CryptoSession"></a>  <h4><code><span style="font-style: italic;">Class: </span><span style="font-style: bold;"><font color=31363b><big> xbmcdrm.CryptoSession(UUID, cipherAlgorithm, macAlgorithm) </big></font></span></code></h4> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UUID</td><td>string - 16 byte UUID of the DRM system to use </td></tr>
    <tr><td class="paramname">cipherAlgorithm</td><td>string - Algorithm used for encryption / decryption ciphers </td></tr>
    <tr><td class="paramname">macAlgorithm</td><td>string - Algorithm used for sign / verify</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeException</td><td>If the session can not be established</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000020">v18 Python API changes:</a></b></dt><dd>New class added.</dd></dl>
<p ><b>Example:</b> </p><div class="fragment"><div class="line">..</div>
<div class="line">uuid_widevine = <span class="stringliteral">&#39;edef8ba9-79d6-4ace-a3c8-27dcd51d21ed&#39;</span></div>
<div class="line">crypto_session = xbmcdrm.CryptoSession(uuid_widevine, <span class="stringliteral">&#39;AES/CBC/NoPadding&#39;</span>, <span class="stringliteral">&#39;HmacSHA256&#39;</span>)</div>
<div class="line">..</div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="ga1d4847add8750a13b41fd64cd2fa5026" name="ga1d4847add8750a13b41fd64cd2fa5026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d4847add8750a13b41fd64cd2fa5026">&#9670;&nbsp;</a></span>Decrypt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc8/class_xbmc_commons_1_1_buffer.html">Buffer</a> XBMCAddon::xbmcdrm::CryptoSession::Decrypt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Decrypt(cipherKeyId, input, iv) </big></font></span></code></h4><hr>  Decrypt an encrypted data by using session keys. </p>
<p ><a class="anchor" id="xbmcdrm_Decrypt"></a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cipherKeyId</td><td>byte - Encryption key id (provided from a service handshake) </td></tr>
    <tr><td class="paramname">input</td><td>byte - Cipher text to decrypt </td></tr>
    <tr><td class="paramname">iv</td><td>byte - Initialization vector of cipher text</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Decrypted input data</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000027">v18 Python API changes:</a></b></dt><dd>New function added. </dd></dl>
<dl class="python_v19"><dt><b><a class="el" href="../../d2/d1d/python_v19.html#_python_v19000015">v19 Python API changes:</a></b></dt><dd>With python 3 all arguments need to be of type bytearray instead of byte.</dd></dl>

</div>
</div>
<a id="gaa8277d00bc469899f100d790a2c0bbb1" name="gaa8277d00bc469899f100d790a2c0bbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8277d00bc469899f100d790a2c0bbb1">&#9670;&nbsp;</a></span>Encrypt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc8/class_xbmc_commons_1_1_buffer.html">Buffer</a> XBMCAddon::xbmcdrm::CryptoSession::Encrypt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Encrypt(cipherKeyId, input, iv) </big></font></span></code></h4><hr>  Encrypt data by using session keys. </p>
<p ><a class="anchor" id="xbmcdrm_Encrypt"></a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cipherKeyId</td><td>byte - Encryption key id (provided from a service handshake) </td></tr>
    <tr><td class="paramname">input</td><td>byte - Encrypted text </td></tr>
    <tr><td class="paramname">iv</td><td>byte - Initialization vector of encrypted text</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte - Encrypted input data</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000028">v18 Python API changes:</a></b></dt><dd>New function added. </dd></dl>
<dl class="python_v19"><dt><b><a class="el" href="../../d2/d1d/python_v19.html#_python_v19000016">v19 Python API changes:</a></b></dt><dd>With python 3 all arguments need to be of type bytearray instead of byte.</dd></dl>

</div>
</div>
<a id="ga80edf9cf1c283f3d7ba3660cd52b90fc" name="ga80edf9cf1c283f3d7ba3660cd52b90fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80edf9cf1c283f3d7ba3660cd52b90fc">&#9670;&nbsp;</a></span>GetKeyRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc8/class_xbmc_commons_1_1_buffer.html">Buffer</a> XBMCAddon::xbmcdrm::CryptoSession::GetKeyRequest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> GetKeyRequest(init, mimeType, offlineKey, optionalParameters) </big></font></span></code></h4><hr>  Generate a key request </p>
<p >Generate a key request, used for request/response exchange between the app and a license server to obtain or release keys used to decrypt encrypted content. After the app has received the key request response from the license server, it should deliver to the response to the DRM instance using the method <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_ProvideKeyResponse">ProvideKeyResponse</a>, to activate the keys. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">init</td><td>byte - Initialization bytes container-specific data, its meaning is interpreted based on the mime type provided in the mimeType parameter. It could contain, for example, the content ID, key ID or other data required in generating the key request. </td></tr>
    <tr><td class="paramname">mimeType</td><td>string - Type of media which is exchanged (e.g. "application/xml", "video/mp4") </td></tr>
    <tr><td class="paramname">offlineKey</td><td>bool - Specifies the type of the request. The request may be to acquire keys for Streaming or Offline content </td></tr>
    <tr><td class="paramname">optionalParameters</td><td>[opt] map - Will be included in the key request message to allow a client application to provide additional message parameters to the server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte - The opaque key request data (challenge) which is send to key server</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000021">v18 Python API changes:</a></b></dt><dd>New function added. </dd></dl>
<dl class="python_v19"><dt><b><a class="el" href="../../d2/d1d/python_v19.html#_python_v19000013">v19 Python API changes:</a></b></dt><dd>With python 3 the init param must be a bytearray instead of byte.</dd></dl>

</div>
</div>
<a id="gae71f93fcde2b81721c598d5c020a5dcd" name="gae71f93fcde2b81721c598d5c020a5dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae71f93fcde2b81721c598d5c020a5dcd">&#9670;&nbsp;</a></span>GetPropertyString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d05/namespace_x_b_m_c_addon.html#a5b94a9de1e8ec1ad257fc88bcf9834e1">String</a> XBMCAddon::xbmcdrm::CryptoSession::GetPropertyString </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> GetPropertyString(name) </big></font></span></code></h4><hr>  Request a system specific property value of the DRM system. </p>
<p ><a class="anchor" id="xbmcdrm_GetPropertyString"></a></p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Name</td><td>string - Name of the property to query</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value of the requested property</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000022">v18 Python API changes:</a></b></dt><dd>New function added.</dd></dl>

</div>
</div>
<a id="ga04150e20b333f4772456ba1ae5e603be" name="ga04150e20b333f4772456ba1ae5e603be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04150e20b333f4772456ba1ae5e603be">&#9670;&nbsp;</a></span>ProvideKeyResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d05/namespace_x_b_m_c_addon.html#a5b94a9de1e8ec1ad257fc88bcf9834e1">String</a> XBMCAddon::xbmcdrm::CryptoSession::ProvideKeyResponse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> ProvideKeyResponse(response) </big></font></span></code></h4><hr>  Provide a key response </p>
<p ><a class="anchor" id="xbmcdrm_ProvideKeyResponse"></a> When a key response is received from the license server, must be sent to the DRM instance by using provideKeyResponse. See also GetKeyRequest.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>byte - Key data returned from the license server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A keySetId if the response is for an offline key requests which can be used later with restoreKeys, else return empty for streaming key requests.</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000023">v18 Python API changes:</a></b></dt><dd>New function added. </dd></dl>
<dl class="python_v19"><dt><b><a class="el" href="../../d2/d1d/python_v19.html#_python_v19000014">v19 Python API changes:</a></b></dt><dd>With python 3 the response argument must be a bytearray instead of byte.</dd></dl>

</div>
</div>
<a id="ga453de81d0d6b17a95cd0d673dcf67903" name="ga453de81d0d6b17a95cd0d673dcf67903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga453de81d0d6b17a95cd0d673dcf67903">&#9670;&nbsp;</a></span>RemoveKeys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d67/emu__msvcrt_8h.html#acee5409d1d6b16f3905a59b0db1bd14f">void</a> XBMCAddon::xbmcdrm::CryptoSession::RemoveKeys </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> RemoveKeys() </big></font></span></code></h4><hr>  Removes all keys currently loaded in a session. </p>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000024">v18 Python API changes:</a></b></dt><dd>New function added.</dd></dl>

</div>
</div>
<a id="ga3f63f2b1cb6ea5d4d4eb7fb3460d1736" name="ga3f63f2b1cb6ea5d4d4eb7fb3460d1736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f63f2b1cb6ea5d4d4eb7fb3460d1736">&#9670;&nbsp;</a></span>RestoreKeys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d67/emu__msvcrt_8h.html#acee5409d1d6b16f3905a59b0db1bd14f">void</a> XBMCAddon::xbmcdrm::CryptoSession::RestoreKeys </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> RestoreKeys(keySetId) </big></font></span></code></h4><hr>  Restores session keys stored during previous <a class="el" href="../../dc/d2c/group__python__xbmcdrm.html#xbmcdrm_ProvideKeyResponse">ProvideKeyResponse</a> call. <a class="anchor" id="xbmcdrm_RestoreKeys"></a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keySetId</td><td>string - Identifies the saved key set to restore. This value must never be null.</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000025">v18 Python API changes:</a></b></dt><dd>New function added.</dd></dl>

</div>
</div>
<a id="gaa753dc359c8bac592f3a5dc2eb09223a" name="gaa753dc359c8bac592f3a5dc2eb09223a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa753dc359c8bac592f3a5dc2eb09223a">&#9670;&nbsp;</a></span>SetPropertyString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d67/emu__msvcrt_8h.html#acee5409d1d6b16f3905a59b0db1bd14f">void</a> XBMCAddon::xbmcdrm::CryptoSession::SetPropertyString </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> SetPropertyString(name, value) </big></font></span></code></h4><hr>  Set a system specific property value in the DRM system. </p>
<p ><a class="anchor" id="xbmcdrm_SetPropertyString"></a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>string - Name of the property. This value must never be null. </td></tr>
    <tr><td class="paramname">value</td><td>string - Value of the property to set. This value must never be null.</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000026">v18 Python API changes:</a></b></dt><dd>New function added.</dd></dl>

</div>
</div>
<a id="gaf2a21c32eca82e21fe60497dc51088c7" name="gaf2a21c32eca82e21fe60497dc51088c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2a21c32eca82e21fe60497dc51088c7">&#9670;&nbsp;</a></span>Sign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc8/class_xbmc_commons_1_1_buffer.html">Buffer</a> XBMCAddon::xbmcdrm::CryptoSession::Sign </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Sign(macKeyId, message) </big></font></span></code></h4><hr>  Generate a DRM encrypted signature for a text message. </p>
<p ><a class="anchor" id="xbmcdrm_Sign"></a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">macKeyId</td><td>byte - HMAC key id (provided from a service handshake) </td></tr>
    <tr><td class="paramname">message</td><td>byte - Message text on which to base the signature</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte - Signature</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000029">v18 Python API changes:</a></b></dt><dd>New function added. </dd></dl>
<dl class="python_v19"><dt><b><a class="el" href="../../d2/d1d/python_v19.html#_python_v19000017">v19 Python API changes:</a></b></dt><dd>With python 3 all arguments need to be of type bytearray instead of byte.</dd></dl>

</div>
</div>
<a id="ga1a3f907e0fa2f934f1f95a34ca68842f" name="ga1a3f907e0fa2f934f1f95a34ca68842f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a3f907e0fa2f934f1f95a34ca68842f">&#9670;&nbsp;</a></span>Verify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd5/c-api_2addon-instance_2_audio_encoder_8h.html#afdaa7d8cb657a01f69d413462a8830aa">bool</a> XBMCAddon::xbmcdrm::CryptoSession::Verify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p> <h4><code><span style="font-style: italic;">Function: </span><span style="font-style: bold;"><font color=31363b><big> Verify(macKeyId, message, signature) </big></font></span></code></h4><hr>  Verify the validity of a DRM signature of a text message. </p>
<p ><a class="anchor" id="xbmcdrm_Verify"></a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">macKeyId</td><td>byte - HMAC key id (provided from a service handshake) </td></tr>
    <tr><td class="paramname">message</td><td>byte - Message text on which the signature is based </td></tr>
    <tr><td class="paramname">signature</td><td>byte - The signature to verify</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when the signature is valid</dd></dl>
<hr  />
 <dl class="python_v18"><dt><b><a class="el" href="../../d9/d82/python_v18.html#_python_v18000030">v18 Python API changes:</a></b></dt><dd>New function added. </dd></dl>
<dl class="python_v19"><dt><b><a class="el" href="../../d2/d1d/python_v19.html#_python_v19000018">v19 Python API changes:</a></b></dt><dd>With python 3 for all arguments is needed to pass bytearray instead of byte.</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Dec 26 2021 17:33:22 for Kodi Docs by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  // script for doxygen 1.9.1
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
