<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kodi Docs: Code Guidelines</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Thumbnail-symbol-whitebg-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kodi Docs<span id="projectnumber">&#160;20.0</span>
   </div>
   <div id="projectbrief">Kodi is an open source media player and entertainment hub.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/d14/code_guidelines.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Code Guidelines </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><img src="https://github.com/xbmc/xbmc/raw/master/docs/resources/banner_slim.png" alt="Kodi Logo" class="inline"/></p>
<hr  />
<h1><a class="anchor" id="autotoc_md115"></a>
1. Motivation</h1>
<p >When working in a large group, the two most important values are readability and maintainability. We code for other people, not computers. To accomplish these goals, we have created a unified set of code conventions.</p>
<p >Conventions can be bent or broken in the interest of making code more readable and maintainable. However, if you submit a patch that contains excessive style conflicts, you may be asked to improve your code before your pull request is reviewed.</p>
<p >In the repository root directory, there is a <code>.clang-format</code> file that implements the rules as specified here. You are encouraged to run <code>clang-format</code> on any newly created files. It is currently not recommended to do so on preexisting files because all the formatting changes will clutter your commits and pull request.</p>
<h1><a class="anchor" id="autotoc_md116"></a>
2. Language standard</h1>
<p >We currently target the C++14 language standard. Do use C++14 features when possible. Do not use C++17 features.</p>
<h1><a class="anchor" id="autotoc_md117"></a>
3. Formatting</h1>
<h2><a class="anchor" id="autotoc_md118"></a>
Line length</h2>
<p >The <code>ColumnLimit</code> in <code>.clang-format</code> is set to <code>100</code> which defines line length (in general where lines should be broken) that allows two editors side by side on a 1080p screen for diffs.</p>
<h2><a class="anchor" id="autotoc_md119"></a>
3.1. Braces</h2>
<p >Curly braces always go on a new line.</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="../../da/da6/_test_c_p_u_info_8cpp.html#a6832d7b762c7dc6b1372508a4f7f5605">t</a>; i++)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<span class="keyword">true</span>)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Dummy</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">};</div>
<div class="ttc" id="a_test_c_p_u_info_8cpp_html_a6832d7b762c7dc6b1372508a4f7f5605"><div class="ttname"><a href="../../da/da6/_test_c_p_u_info_8cpp.html#a6832d7b762c7dc6b1372508a4f7f5605">t</a></div><div class="ttdeci">CTemperature t</div><div class="ttdef"><b>Definition:</b> TestCPUInfo.cpp:49</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md120"></a>
3.2. Indentation</h2>
<p >Use spaces as tab policy with an indentation size of 2. Opening curly braces increase the level of indentation. Closing curly braces decrease the level of indentation.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Do</td><td>not indent namespaces to simplify nesting them and wrapping *.cpp* files in a namespace.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../dd/dc7/namespace_k_o_d_i.html">KODI</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d1/dd3/namespace_u_t_i_l_s.html">UTILS</a></div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>ILogger</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../d7/d0c/group__cpp__kodi.html#ga058fa781fb14f360568b1a178fcdb49a">Log</a>(...) = 0;</div>
<div class="line">  <span class="keyword">virtual</span> ~ILogger() {}</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line">}</div>
<div class="ttc" id="agroup__cpp__kodi_html_ga058fa781fb14f360568b1a178fcdb49a"><div class="ttname"><a href="../../d7/d0c/group__cpp__kodi.html#ga058fa781fb14f360568b1a178fcdb49a">kodi::Log</a></div><div class="ttdeci">void ATTR_DLL_LOCAL Log(const AddonLog loglevel, const char *format,...)</div><div class="ttdoc">Add a message to Kodi's log.</div><div class="ttdef"><b>Definition:</b> kodi-dev-kit/include/kodi/AddonBase.h:758</div></div>
<div class="ttc" id="anamespace_k_o_d_i_html"><div class="ttname"><a href="../../dd/dc7/namespace_k_o_d_i.html">KODI</a></div><div class="ttdoc">Controller configuration window.</div><div class="ttdef"><b>Definition:</b> addons/AudioDecoder.h:19</div></div>
<div class="ttc" id="anamespace_u_t_i_l_s_html"><div class="ttname"><a href="../../d1/dd3/namespace_u_t_i_l_s.html">UTILS</a></div><div class="ttdef"><b>Definition:</b> ColorUtils.h:17</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md121"></a>
3.3. Control statements</h2>
<p >Insert a new line before every: else in an if statement catch in a try statement while in a do statement</p>
<h2><a class="anchor" id="autotoc_md122"></a>
3.3.1. if else</h2>
<p >Put the consequent on a new line if not in curly braces anyway. Keep <code>else if</code> statements on one line.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (<span class="keyword">true</span>)</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (<span class="keyword">true</span>)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">false</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">  <span class="keywordflow">return</span>;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md123"></a>
3.3.2. switch case</h2>
<div class="fragment"><div class="line"><span class="keywordflow">switch</span> (cmd)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">case</span> x:</div>
<div class="line">  {</div>
<div class="line">    doSomething();</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">case</span> x:</div>
<div class="line">  <span class="keywordflow">case</span> z:</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordflow">default</span>:</div>
<div class="line">    doSomething();</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md124"></a>
3.3.3. try catch</h2>
<div class="fragment"><div class="line"><span class="keywordflow">try</span></div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">  <span class="keywordflow">throw</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">catch</span> (...)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md125"></a>
3.4. Whitespace</h2>
<p >Conventional operators have to be surrounded by one space on each side. </p><div class="fragment"><div class="line">a = (b + c) * d;</div>
</div><!-- fragment --><p> Control statement keywords have to be separated from opening parentheses by one space. </p><div class="fragment"><div class="line"><span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; x; i++);</div>
</div><!-- fragment --><p> Commas have to be followed by one space. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_enumeration" href="../../d3/d8c/namespace_h_t_t_p.html#aa9e5b42dac8b6629d834aa12f66b3ad9">Dummy::Method</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b, <span class="keywordtype">int</span> c);</div>
<div class="ttc" id="anamespace_h_t_t_p_html_aa9e5b42dac8b6629d834aa12f66b3ad9"><div class="ttname"><a href="../../d3/d8c/namespace_h_t_t_p.html#aa9e5b42dac8b6629d834aa12f66b3ad9">HTTP::Method</a></div><div class="ttdeci">Method</div><div class="ttdef"><b>Definition:</b> HttpResponse.h:25</div></div>
</div><!-- fragment --><p> Initializer lists have one space after each element (including comma), but no surrounding spaces. </p><div class="fragment"><div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">int</span> aNiceArray[] = {1, 2, 3};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md126"></a>
3.5. Vertical alignment</h2>
<p >Do not use whitespace to vertically align around operators or values. This causes problems on code review if one needs to realign all values to their new position, producing unnecessarily large diffs.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> value1{1};</div>
<div class="line"><span class="keywordtype">int</span> value2{2};</div>
<div class="line">CExampleClass* exampleClass{};</div>
<div class="line">CBiggerExampleClass* biggerExampleClass{};</div>
<div class="line">exampleClass = <span class="keyword">new</span> CExampleClass(value1, value2);</div>
<div class="line">biggerExampleClass = <span class="keyword">new</span> CBiggerExampleClass(value1, value2);</div>
<div class="line">exampleClass-&gt;InitExample();</div>
<div class="line">biggerExampleClass-&gt;InitExample();</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span>                  value1             {1};</div>
<div class="line"><span class="keywordtype">int</span>                  value2             {2};</div>
<div class="line">[...]</div>
<div class="line">CExampleClass       *exampleClass       {};</div>
<div class="line">CBiggerExampleClass *biggerExampleClass {};</div>
<div class="line">[...]</div>
<div class="line">exampleClass       = <span class="keyword">new</span> CExampleClass      (value1, value2);</div>
<div class="line">biggerExampleClass = <span class="keyword">new</span> CBiggerExampleClass(value1, value2);</div>
<div class="line">[...]</div>
<div class="line">exampleClass      -&gt;InitExample();</div>
<div class="line">biggerExampleClass-&gt;InitExample();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md127"></a>
3.6. Superfluous &lt;tt&gt;void&lt;/tt&gt;</h2>
<p >Do not write <code>void</code> in empty function parameter declarations.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> Test();</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> Test(<span class="keywordtype">void</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md128"></a>
3.7. Exceptions to the Formatting Rules For Better Readability</h2>
<p >There are some special situations where vertical alignment and longer lines does greatly aid readability, for example the initialization of some table-like multiple row structures. In these <b>rare</b> cases exceptions can be made to the formatting rules on vertical alignment, and the defined line length can be exceeded.</p>
<p >The layout can be protected from being reformatted when <code>clang-format</code> is applied by adding <code>// clang-format off</code> and <code>// clang-format on</code> statements either side of the lines of code. For example </p><div class="fragment"><div class="line"><span class="comment">// clang-format off</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="../../da/d1d/struct_c_g_u_i_dialog_media_filter_1_1_filter.html">CGUIDialogMediaFilter::Filter</a> filterList[] = {</div>
<div class="line">  { <span class="stringliteral">&quot;movies&quot;</span>,       <a class="code hl_enumvalue" href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8a0b6ad550ddf4aa1e967c241beffebca8">FieldTitle</a>,         556,    <a class="code hl_enumvalue" href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338a27118326006d3829667a400ad23d5d98">SettingType::String</a>,  <span class="stringliteral">&quot;edit&quot;</span>,   <span class="stringliteral">&quot;string&quot;</span>,   <a class="code hl_enumvalue" href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aac86cfc85596de60857e7f991f204cdb7">CDatabaseQueryRule::OPERATOR_CONTAINS</a> },</div>
<div class="line">  { <span class="stringliteral">&quot;movies&quot;</span>,       <a class="code hl_enumvalue" href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8a5784b399359c090dec16ea9e6588c518">FieldRating</a>,        563,    <a class="code hl_enumvalue" href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338ab2ee912b91d69b435159c7c3f6df7f5f">SettingType::Number</a>,  <span class="stringliteral">&quot;range&quot;</span>,  <span class="stringliteral">&quot;number&quot;</span>,   <a class="code hl_enumvalue" href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aad1275ed6cfdc8de6d7199d6b3fcebaf8">CDatabaseQueryRule::OPERATOR_BETWEEN</a> },</div>
<div class="line">  { <span class="stringliteral">&quot;movies&quot;</span>,       <a class="code hl_enumvalue" href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8aa4265ac7e267a70d7b1ba2feef28dcb4">FieldUserRating</a>,    38018,  <a class="code hl_enumvalue" href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338aa0faef0851b4294c06f2b94bb1cb2044">SettingType::Integer</a>, <span class="stringliteral">&quot;range&quot;</span>,  <span class="stringliteral">&quot;integer&quot;</span>,  <a class="code hl_enumvalue" href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aad1275ed6cfdc8de6d7199d6b3fcebaf8">CDatabaseQueryRule::OPERATOR_BETWEEN</a> },</div>
<div class="line">  ...</div>
<div class="line">  { <span class="stringliteral">&quot;songs&quot;</span>,        <a class="code hl_enumvalue" href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8ac255f43997db2a225a3dceba4ea94ae0">FieldSource</a>,        39030,  <a class="code hl_enumvalue" href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338a4ee29ca12c7d126654bd0e5275de6135">SettingType::List</a>,    <span class="stringliteral">&quot;list&quot;</span>,   <span class="stringliteral">&quot;string&quot;</span>,   <a class="code hl_enumvalue" href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aa32e2993925a67bc74ce4e1bd24035cac">CDatabaseQueryRule::OPERATOR_EQUALS</a> },</div>
<div class="line">};  </div>
<div class="line"><span class="comment">// clang-format on</span></div>
<div class="ttc" id="a_database_utils_8h_html_a1e35064f4b70226adc63b8fe1af7ddf8a0b6ad550ddf4aa1e967c241beffebca8"><div class="ttname"><a href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8a0b6ad550ddf4aa1e967c241beffebca8">FieldTitle</a></div><div class="ttdeci">@ FieldTitle</div><div class="ttdef"><b>Definition:</b> DatabaseUtils.h:70</div></div>
<div class="ttc" id="a_database_utils_8h_html_a1e35064f4b70226adc63b8fe1af7ddf8a5784b399359c090dec16ea9e6588c518"><div class="ttname"><a href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8a5784b399359c090dec16ea9e6588c518">FieldRating</a></div><div class="ttdeci">@ FieldRating</div><div class="ttdef"><b>Definition:</b> DatabaseUtils.h:81</div></div>
<div class="ttc" id="a_database_utils_8h_html_a1e35064f4b70226adc63b8fe1af7ddf8aa4265ac7e267a70d7b1ba2feef28dcb4"><div class="ttname"><a href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8aa4265ac7e267a70d7b1ba2feef28dcb4">FieldUserRating</a></div><div class="ttdeci">@ FieldUserRating</div><div class="ttdef"><b>Definition:</b> DatabaseUtils.h:139</div></div>
<div class="ttc" id="a_database_utils_8h_html_a1e35064f4b70226adc63b8fe1af7ddf8ac255f43997db2a225a3dceba4ea94ae0"><div class="ttname"><a href="../../d5/d72/_database_utils_8h.html#a1e35064f4b70226adc63b8fe1af7ddf8ac255f43997db2a225a3dceba4ea94ae0">FieldSource</a></div><div class="ttdeci">@ FieldSource</div><div class="ttdef"><b>Definition:</b> DatabaseUtils.h:116</div></div>
<div class="ttc" id="aclass_c_database_query_rule_html_a260957cf37f42578b5878c4fd723c20aa32e2993925a67bc74ce4e1bd24035cac"><div class="ttname"><a href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aa32e2993925a67bc74ce4e1bd24035cac">CDatabaseQueryRule::OPERATOR_EQUALS</a></div><div class="ttdeci">@ OPERATOR_EQUALS</div><div class="ttdef"><b>Definition:</b> DatabaseQuery.h:31</div></div>
<div class="ttc" id="aclass_c_database_query_rule_html_a260957cf37f42578b5878c4fd723c20aac86cfc85596de60857e7f991f204cdb7"><div class="ttname"><a href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aac86cfc85596de60857e7f991f204cdb7">CDatabaseQueryRule::OPERATOR_CONTAINS</a></div><div class="ttdeci">@ OPERATOR_CONTAINS</div><div class="ttdef"><b>Definition:</b> DatabaseQuery.h:29</div></div>
<div class="ttc" id="aclass_c_database_query_rule_html_a260957cf37f42578b5878c4fd723c20aad1275ed6cfdc8de6d7199d6b3fcebaf8"><div class="ttname"><a href="../../d8/d39/class_c_database_query_rule.html#a260957cf37f42578b5878c4fd723c20aad1275ed6cfdc8de6d7199d6b3fcebaf8">CDatabaseQueryRule::OPERATOR_BETWEEN</a></div><div class="ttdeci">@ OPERATOR_BETWEEN</div><div class="ttdef"><b>Definition:</b> DatabaseQuery.h:43</div></div>
<div class="ttc" id="agroup__settings_html_gga8dfa1a122b59a38c38cc2824be723338a27118326006d3829667a400ad23d5d98"><div class="ttname"><a href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338a27118326006d3829667a400ad23d5d98">SettingType::String</a></div><div class="ttdeci">@ String</div></div>
<div class="ttc" id="agroup__settings_html_gga8dfa1a122b59a38c38cc2824be723338a4ee29ca12c7d126654bd0e5275de6135"><div class="ttname"><a href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338a4ee29ca12c7d126654bd0e5275de6135">SettingType::List</a></div><div class="ttdeci">@ List</div></div>
<div class="ttc" id="agroup__settings_html_gga8dfa1a122b59a38c38cc2824be723338aa0faef0851b4294c06f2b94bb1cb2044"><div class="ttname"><a href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338aa0faef0851b4294c06f2b94bb1cb2044">SettingType::Integer</a></div><div class="ttdeci">@ Integer</div></div>
<div class="ttc" id="agroup__settings_html_gga8dfa1a122b59a38c38cc2824be723338ab2ee912b91d69b435159c7c3f6df7f5f"><div class="ttname"><a href="../../d0/de9/group__settings.html#gga8dfa1a122b59a38c38cc2824be723338ab2ee912b91d69b435159c7c3f6df7f5f">SettingType::Number</a></div><div class="ttdeci">@ Number</div></div>
<div class="ttc" id="astruct_c_g_u_i_dialog_media_filter_1_1_filter_html"><div class="ttname"><a href="../../da/d1d/struct_c_g_u_i_dialog_media_filter_1_1_filter.html">CGUIDialogMediaFilter::Filter</a></div><div class="ttdef"><b>Definition:</b> GUIDialogMediaFilter.h:40</div></div>
</div><!-- fragment --><p> The other code guidelines will still need to be applied within the delimited lines of code, but with <code>clang-format</code> off care will be needed to check these manually. Using vertical alignment means that sometimes the entire block of code may need to be realigned, good judgement should be used in each case with the objective of preserving readability yet minimising impact.</p>
<p >This is to be used with discretion, marking large amounts of code to be left unformatted by <code>clang-format</code> without reasonable justification will be rejected.</p>
<h1><a class="anchor" id="autotoc_md129"></a>
4. Statements</h1>
<h2><a class="anchor" id="autotoc_md130"></a>
4.1. Multiple statements</h2>
<p >Do not put multiple statements on a single line. Always use a new line for a new statement. It is much easier to debug if one can pinpoint a precise line number.</p>
<p >✅ Good: </p><div class="fragment"><div class="line">std::vector&lt;std::string&gt; test;</div>
<div class="line">test.push_back(<span class="stringliteral">&quot;foobar&quot;</span>);</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line">std::vector&lt;std::string&gt; test; test.push_back(<span class="stringliteral">&quot;foobar&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md131"></a>
4.2. &lt;tt&gt;switch&lt;/tt&gt; default case</h2>
<p >In every <code>switch</code> structure, always include a <code>default</code> case, unless switching on an enum and all enum values are explicitly handled.</p>
<h1><a class="anchor" id="autotoc_md132"></a>
5. Declarations</h1>
<h2><a class="anchor" id="autotoc_md133"></a>
5.1. Multiple declarations</h2>
<p >Do not put multiple declarations on a single line. This avoids confusion with differing pointers, references, and initialization values on the same line (cf. <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#es10-declare-one-name-only-per-declaration">ISO C++ guidelines</a>).</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span>* a;</div>
<div class="line"><span class="keywordtype">char</span> b;</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span>* a, b;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md134"></a>
5.2. Pointer and reference types</h2>
<p >Left-align <code>*</code> and <code>&amp;</code> to the base type they modify.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span>* a;</div>
<div class="line"><span class="keywordtype">void</span> test(<span class="keyword">const</span> std::string&amp; b);</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span> *a;</div>
<div class="line"><span class="keywordtype">char</span> * b;</div>
<div class="line"><span class="keywordtype">void</span> test(<span class="keyword">const</span> std::string &amp;b);</div>
</div><!-- fragment --><p >(This is adopted from the HP C++ Coding Guidelines: "The characters * and &amp; are to be written with the type of variables instead of with the name of variables in order to emphasize that they are part of the type definition.")</p>
<h2><a class="anchor" id="autotoc_md135"></a>
5.3. &lt;tt&gt;const&lt;/tt&gt; and other modifiers</h2>
<p >Place <code>const</code> and similar modifiers in front of the type they modify.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> Test(<span class="keyword">const</span> std::string&amp; a);</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span>* <span class="keyword">const</span> someIntPointer;</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> Test(std::string <span class="keyword">const</span>&amp; a);</div>
<div class="line"><span class="keywordtype">int</span> <span class="keyword">const</span> * <span class="keyword">const</span> someIntPointer;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md136"></a>
5.4. Initialization</h2>
<p >Make sure that variables are initialized appropriately at declaration or soon afterwards. This is especially important for fundamental type variables that do not have any constructor. Zero-initialize with <code>{}</code>.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> x{};</div>
<div class="line"><span class="keywordtype">int</span>* y{};</div>
<div class="line"><a class="code hl_function" href="../../d7/ddf/class_c_log.html#a814d137db5819bb9b586c147bbd4cffa">CLog::Log</a>(<span class="stringliteral">&quot;test: {} {}&quot;</span>, x, y);</div>
<div class="ttc" id="aclass_c_log_html_a814d137db5819bb9b586c147bbd4cffa"><div class="ttname"><a href="../../d7/ddf/class_c_log.html#a814d137db5819bb9b586c147bbd4cffa">CLog::Log</a></div><div class="ttdeci">static void Log(int level, const char *format, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> log.h:78</div></div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> x; <span class="comment">// used uninitialized</span></div>
<div class="line"><span class="keywordtype">int</span>* y = <span class="keyword">nullptr</span>; <span class="comment">// default-initialization not using {}</span></div>
<div class="line"><a class="code hl_function" href="../../d7/ddf/class_c_log.html#a814d137db5819bb9b586c147bbd4cffa">CLog::Log</a>(<span class="stringliteral">&quot;test: {} {}&quot;</span>, x, y);</div>
</div><!-- fragment --><p >In general, prefer the <code>{}</code> initializer syntax over alternatives. This syntax is less ambiguous and disallows narrowing (cf. <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Res-list">ISO C++ guidelines</a>).</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> x{5};</div>
<div class="line"><span class="keywordtype">int</span> y{x};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md137"></a>
6. Scoping</h1>
<h2><a class="anchor" id="autotoc_md138"></a>
6.1. Namespaces</h2>
<p >Try to put all code into appropriate namespaces (e.g. following directory structure) and avoid polluting the global namespace.</p>
<h2><a class="anchor" id="autotoc_md139"></a>
6.2. Local functions</h2>
<p >Put functions local to a compilation unit into an anonymous namespace.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keyword">namespace</span></div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> test();</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> test();</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md140"></a>
7. Headers</h1>
<p >Included header files have to be sorted (case sensitive) alphabetically to prevent duplicates and allow better overview, with an empty line clearly separating sections.</p>
<p >Header order has to be: Own header file Other Kodi includes (platform independent) Other Kodi includes (platform specific) C and C++ system files Other libraries' header files special Kodi headers (PlatformDefs.h, system.h and <a class="el" href="../../de/d72/system__gl_8h.html">system_gl.h</a>)</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/d5c/_p_v_r_manager_8h.html">PVRManager.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d9/da3/_application_8h.html">Application.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d3/dc3/_service_broker_8h.html">ServiceBroker.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../df/dd1/_addon_installer_8h.html">addons/AddonInstaller.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../de/dc2/_g_u_i_dialog_extended_progress_bar_8h.html">dialogs/GUIDialogExtendedProgressBar.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../db/d55/_application_messenger_8h.html">messaging/ApplicationMessenger.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../df/d39/_thread_message_8h.html">messaging/ThreadMessage.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/d64/_dialog_helper_8h.html">messaging/helpers/DialogHelper.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d0/dc6/_music_database_8h.html">music/MusicDatabase.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d1/da1/_music_info_tag_8h.html">music/tags/MusicInfoTag.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d0/d88/network_2_network_8h.html">network/Network.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../de/d3d/_p_v_r_clients_8h.html">pvr/addons/PVRClients.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../df/db7/_p_v_r_channel_8h.html">pvr/channels/PVRChannel.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../db/dde/settings_2_settings_8h.html">settings/Settings.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../df/d57/_single_lock_8h.html">threads/SingleLock.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../db/db9/_job_manager_8h.html">utils/JobManager.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d19/_variant_8h.html">utils/Variant.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d7/d7f/log_8h.html">utils/log.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d9/d1c/_video_database_8h.html">video/VideoDatabase.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;libavutil/pixfmt.h&gt;</span></div>
<div class="ttc" id="a_addon_installer_8h_html"><div class="ttname"><a href="../../df/dd1/_addon_installer_8h.html">AddonInstaller.h</a></div></div>
<div class="ttc" id="a_application_8h_html"><div class="ttname"><a href="../../d9/da3/_application_8h.html">Application.h</a></div></div>
<div class="ttc" id="a_application_messenger_8h_html"><div class="ttname"><a href="../../db/d55/_application_messenger_8h.html">ApplicationMessenger.h</a></div></div>
<div class="ttc" id="a_dialog_helper_8h_html"><div class="ttname"><a href="../../da/d64/_dialog_helper_8h.html">DialogHelper.h</a></div></div>
<div class="ttc" id="a_g_u_i_dialog_extended_progress_bar_8h_html"><div class="ttname"><a href="../../de/dc2/_g_u_i_dialog_extended_progress_bar_8h.html">GUIDialogExtendedProgressBar.h</a></div></div>
<div class="ttc" id="a_job_manager_8h_html"><div class="ttname"><a href="../../db/db9/_job_manager_8h.html">JobManager.h</a></div></div>
<div class="ttc" id="a_music_database_8h_html"><div class="ttname"><a href="../../d0/dc6/_music_database_8h.html">MusicDatabase.h</a></div></div>
<div class="ttc" id="a_music_info_tag_8h_html"><div class="ttname"><a href="../../d1/da1/_music_info_tag_8h.html">MusicInfoTag.h</a></div></div>
<div class="ttc" id="a_p_v_r_channel_8h_html"><div class="ttname"><a href="../../df/db7/_p_v_r_channel_8h.html">PVRChannel.h</a></div></div>
<div class="ttc" id="a_p_v_r_clients_8h_html"><div class="ttname"><a href="../../de/d3d/_p_v_r_clients_8h.html">PVRClients.h</a></div></div>
<div class="ttc" id="a_p_v_r_manager_8h_html"><div class="ttname"><a href="../../da/d5c/_p_v_r_manager_8h.html">PVRManager.h</a></div></div>
<div class="ttc" id="a_service_broker_8h_html"><div class="ttname"><a href="../../d3/dc3/_service_broker_8h.html">ServiceBroker.h</a></div></div>
<div class="ttc" id="a_single_lock_8h_html"><div class="ttname"><a href="../../df/d57/_single_lock_8h.html">SingleLock.h</a></div></div>
<div class="ttc" id="a_thread_message_8h_html"><div class="ttname"><a href="../../df/d39/_thread_message_8h.html">ThreadMessage.h</a></div></div>
<div class="ttc" id="a_variant_8h_html"><div class="ttname"><a href="../../d2/d19/_variant_8h.html">Variant.h</a></div></div>
<div class="ttc" id="a_video_database_8h_html"><div class="ttname"><a href="../../d9/d1c/_video_database_8h.html">VideoDatabase.h</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="../../d7/d7f/log_8h.html">log.h</a></div></div>
<div class="ttc" id="anetwork_2_network_8h_html"><div class="ttname"><a href="../../d0/d88/network_2_network_8h.html">Network.h</a></div></div>
<div class="ttc" id="asettings_2_settings_8h_html"><div class="ttname"><a href="../../db/dde/settings_2_settings_8h.html">Settings.h</a></div></div>
</div><!-- fragment --><p >If the headers aren't sorted, either do your best to match the existing order, or precede your commit with an alphabetization commit.</p>
<p >If possible, avoid including headers in another header. Instead, you can forward-declare the class and use a <code>std::unique_ptr</code> (or similar):</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../df/d79/class_c_file_item.html">CFileItem</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Example</div>
<div class="line">{</div>
<div class="line">  ...</div>
<div class="line">  std::unique_ptr&lt;CFileItem&gt; m_fileItem;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_c_file_item_html"><div class="ttname"><a href="../../df/d79/class_c_file_item.html">CFileItem</a></div><div class="ttdoc">Represents a file on a share.</div><div class="ttdef"><b>Definition:</b> FileItem.h:98</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md141"></a>
8. Naming</h1>
<h2><a class="anchor" id="autotoc_md142"></a>
8.1. Namespaces</h2>
<p >Use upper case with underscores. </p><div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../dd/dc7/namespace_k_o_d_i.html">KODI</a></div>
<div class="line">{</div>
<div class="line">[...]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md143"></a>
8.2. Constants</h2>
<p >Use upper case with underscores. </p><div class="fragment"><div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">int</span> MY_CONSTANT = 1;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md144"></a>
8.3. Enums</h2>
<p >Use PascalCase for the enum name and upper case with underscores for the values. </p><div class="fragment"><div class="line"><span class="keyword">enum class</span> Dummy</div>
<div class="line">{</div>
<div class="line">  VALUE_X,</div>
<div class="line">  VALUE_Y</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md145"></a>
8.4. Interfaces</h2>
<p >Use PascalCase and prefix with an uppercase I. Filename has to match the interface name without the prefixed I, e.g. Logger.h </p><div class="fragment"><div class="line"><span class="keyword">class </span>ILogger</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../d7/d0c/group__cpp__kodi.html#ga058fa781fb14f360568b1a178fcdb49a">Log</a>(...) = 0;</div>
<div class="line">  <span class="keyword">virtual</span> ~ILogger() {}</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md146"></a>
8.5. Classes</h2>
<p >Use PascalCase and prefix with an uppercase C. Filename has to match the class name without the prefixed C, e.g. Logger.cpp </p><div class="fragment"><div class="line"><span class="keyword">class </span>CLogger : <span class="keyword">public</span> ILogger</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="../../d7/d0c/group__cpp__kodi.html#ga058fa781fb14f360568b1a178fcdb49a">Log</a>(...) <span class="keyword">override</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md147"></a>
8.6. Methods</h2>
<p >Use PascalCase always, uppercasing the first letter even if the methods are private or protected. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> MyDummyClass::DoSomething();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md148"></a>
8.7. Variables</h2>
<p >Use CamelCase. Type prefixing (Systems Hungarian notation) is discouraged.</p>
<h2><a class="anchor" id="autotoc_md149"></a>
Member variables</h2>
<p >Prefix non-static member variables with <code>m_</code>. Prefix static member variables with <code>ms_</code>. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> m_variableA;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> ms_variableB;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md150"></a>
Global variables</h2>
<p >Prefix global variables with <code>g_</code> </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> g_globalVariableA;</div>
</div><!-- fragment --> <dl class="section warning"><dt>Warning</dt><dd>Avoid use of globals as far as reasonably possible. We generally do not want to introduce new global variables.</dd></dl>
<h1><a class="anchor" id="autotoc_md151"></a>
9. Comments</h1>
<h2><a class="anchor" id="autotoc_md152"></a>
9.1. General</h2>
<p >Use <code>//</code> for inline single-line and multi-line comments. Use for the copyright comment at the beginning of the file. SPDX license headers are required for all code files (see example below).</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Copyright (C) 2005-2018 Team Kodi</span></div>
<div class="line"><span class="comment">    This file is part of Kodi - https://kodi.tv</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">    SPDX-License-Identifier: GPL-2.0-or-later</span></div>
<div class="line"><span class="comment">    See LICENSES/README.md for more information.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Nice comment</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This can also continue for multiple lines:</span></div>
<div class="line"><span class="comment">// I am the second line.</span></div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="comment">/* A comment */</span></div>
<div class="line"><span class="comment">//another comment</span></div>
</div><!-- fragment --><p >New classes and functions are expected to have Doxygen comments describing their purpose, parameters, and behavior in the header file. However, do not describe trivialities - it only adds visual noise. Use the Qt style with exclamation mark (<code>\/*! *\/</code>) and backslash for doxygen commands (e.g. <code>\brief</code>).</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="comment">/*!</span></div>
<div class="line"><span class="comment">   \brief Splits the given input string using the given delimiter into separate strings.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">   If the given input string is empty, nothing will be put into the target iterator.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment">   \param destination the beginning of the destination range</span></div>
<div class="line"><span class="comment">   \param input input string to be split</span></div>
<div class="line"><span class="comment">   \param delimiter delimiter to be used to split the input string</span></div>
<div class="line"><span class="comment">   \param maxStrings (optional) maximum number of splitted strings</span></div>
<div class="line"><span class="comment">   \return output iterator to the element in the destination range one past the last element</span></div>
<div class="line"><span class="comment">           that was put there</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> OutputIt&gt;</div>
<div class="line"><span class="keyword">static</span> OutputIt SplitTo(OutputIt destination, <span class="keyword">const</span> std::string&amp; input, <span class="keyword">const</span> std::string&amp; delimiter, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxStrings = 0);</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment">   @brief Function for documentation purposes (javadoc style)</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">void</span> TestFunction();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ReallyComplicatedFunction(); <span class="comment">// does something really complicated</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/*!</span></div>
<div class="line"><span class="comment">   \brief Frobnicate a parameter</span></div>
<div class="line"><span class="comment">   \param param parameter to frobnicate</span></div>
<div class="line"><span class="comment">   \result frobnication result</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">int</span> Frobnicate(<span class="keywordtype">int</span> param);</div>
</div><!-- fragment --><p >Use the provided logging function <code><a class="el" href="../../d7/ddf/class_c_log.html#a814d137db5819bb9b586c147bbd4cffa">CLog::Log</a></code>. Do not log to standard output or standard error using e.g. <code>printf</code> or <code>std::cout</code>.</p>
<p >The <code>Log</code> function uses the <a href="http://fmtlib.net/">fmt library</a> for formatting log messages. Basically, you can use <code>{}</code> as placeholder for anything and list the parameters to insert after the message similarly to <code>printf</code>. See <a href="http://fmtlib.net/latest/syntax.html">here</a> for the detailed syntax and below for an example.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><a class="code hl_function" href="../../d7/ddf/class_c_log.html#a814d137db5819bb9b586c147bbd4cffa">CLog::Log</a>(<a class="code hl_define" href="../../dc/d73/ilog_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a>, <span class="stringliteral">&quot;Window size: {}x{}&quot;</span>, width, height);</div>
<div class="ttc" id="ailog_8h_html_a1fc2060edb9d1f8a777b307c0f7a2724"><div class="ttname"><a href="../../dc/d73/ilog_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a></div><div class="ttdeci">#define LOGDEBUG</div><div class="ttdef"><b>Definition:</b> ilog.h:18</div></div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><a class="code hl_function" href="../../d7/ddf/class_c_log.html#a814d137db5819bb9b586c147bbd4cffa">CLog::Log</a>(<a class="code hl_define" href="../../dc/d73/ilog_8h.html#a95f38715fd9690db0907bb5f6d6a51c4">LOGWARNING</a>, <span class="stringliteral">&quot;Window size: %dx%d&quot;</span>, width, height); <span class="comment">// printf-style format strings are possible, but discouraged; also the message does not warrant the warning level</span></div>
<div class="line"><a class="code hl_define" href="../../d0/da3/coff_8cpp.html#a0f459d16901ef591acaafa4b67fd4be5">printf</a>(<span class="stringliteral">&quot;Window size: %dx%d&quot;</span>, width, height);</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Window size: &quot;</span> &lt;&lt; width &lt;&lt; <span class="stringliteral">&quot;x&quot;</span> &lt;&lt; height &lt;&lt; std::endl;</div>
<div class="ttc" id="acoff_8cpp_html_a0f459d16901ef591acaafa4b67fd4be5"><div class="ttname"><a href="../../d0/da3/coff_8cpp.html#a0f459d16901ef591acaafa4b67fd4be5">printf</a></div><div class="ttdeci">#define printf(format,...)</div><div class="ttdef"><b>Definition:</b> coff.cpp:21</div></div>
<div class="ttc" id="ailog_8h_html_a95f38715fd9690db0907bb5f6d6a51c4"><div class="ttname"><a href="../../dc/d73/ilog_8h.html#a95f38715fd9690db0907bb5f6d6a51c4">LOGWARNING</a></div><div class="ttdeci">#define LOGWARNING</div><div class="ttdef"><b>Definition:</b> ilog.h:20</div></div>
</div><!-- fragment --><p >The predefined logging levels are <code>DEBUG</code>, <code><a class="el" href="../../d9/d25/namespace_i_n_f_o.html">INFO</a></code>, <code>NOTICE</code>, <code>WARNING</code>, <code>ERROR</code>, <code>SEVERE</code>, and <code>FATAL</code>. Use anything <code><a class="el" href="../../d9/d25/namespace_i_n_f_o.html">INFO</a></code> and above sparingly since it will be written to the log by default. Too many messages will clutter the log and reduce visibility of important information. <code>DEBUG</code> messages are only written when debug logging is enabled.</p>
<p >Make class data members <code>private</code>. Think twice before using <code>protected</code> for data members and functions, as its level of encapsulation is effectively equivalent to <code>public</code>.</p>
<p >Try to mark member functions of classes as <code>const</code> whenever reasonable.</p>
<p >When overriding virtual functions of a base class, add the <code>override</code> keyword. Do not add the <code>virtual</code> keyword.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keyword">class </span>CLogger : <span class="keyword">public</span> ILogger</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="../../d7/d0c/group__cpp__kodi.html#ga058fa781fb14f360568b1a178fcdb49a">Log</a>(...) <span class="keyword">override</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keyword">class </span>CLogger : <span class="keyword">public</span> ILogger</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../d7/d0c/group__cpp__kodi.html#ga058fa781fb14f360568b1a178fcdb49a">Log</a>(...) <span class="keyword">override</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p >Use default member initialization instead of initializer lists or constructor assignments whenever it makes sense. </p><div class="fragment"><div class="line"><span class="keyword">class </span>Foo</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">bool</span> bar{<span class="keyword">false</span>};</div>
<div class="line">};</div>
</div><!-- fragment --><p >A class with any virtual functions should have a destructor that is either public and virtual or else protected and non-virtual (cf. <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-dtor-virtual">ISO C++ guidelines</a>).</p>
<p >For lines up to <a href="#line-length">line length</a> everything stays on one line, excluding the braces which must be on the following lines.</p>
<div class="fragment"><div class="line">MyClass::CMyClass(<span class="keywordtype">bool</span> bBoolArg, <span class="keywordtype">int</span> iIntegerArg) : m_bArg(bBoolArg), m_iArg(iIntegerArg)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --><p >For longer lines, break before colon and after comma.</p>
<div class="fragment"><div class="line">MyClass::CMyClass(<span class="keywordtype">bool</span> bBoolArg,</div>
<div class="line">                  <span class="keywordtype">int</span> iIntegerArg,</div>
<div class="line">                  <span class="keyword">const</span> std::string&amp; strSomeText,</div>
<div class="line">                  <span class="keyword">const</span> std::shared_ptr&lt;CMyOtherClass&gt;&amp; myOtherClass)</div>
<div class="line">  : m_bBoolArg(bBoolArg),</div>
<div class="line">    m_iIntegerArg(iIntegerArg),</div>
<div class="line">    m_strSomeText(strSomeText),</div>
<div class="line">    m_myOtherClass(myOtherClass)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --><p >For functions that have multiple output values, prefer using a <code>struct</code> or <code>tuple</code> return value over output parameters that use pointers or references (cf. <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rf-out-multi">ISO C++ guidelines</a>). In general, try to avoid output parameters completely (cf. <a href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rf-out">ISO C++ guidelines</a>, <a href="https://google.github.io/styleguide/cppguide.html#Output_Parameters">Google C++ Style Guide</a>). At the function call site, it is completely invisible that actually a reference is being passed and the value might be modified. Return semantics make it clear what is happening.</p>
<p >New code has to use C++ style casts and not older C style casts. When modifying existing code the developer can choose to update it to C++ style casts or leave as is. Whenever a <code>dynamic_cast</code> is used to cast to a pointer type, the result can be <code>nullptr</code> and needs to be checked accordingly.</p>
<p >Prefer the use of <code>nullptr</code> instead of <code>NULL</code>. <code>nullptr</code> is a typesafe version and as such can't be implicitly converted to <code>int</code> or anything else.</p>
<p >Feel free to use <code>auto</code> wherever it improves readability, which is not always the case. Good places are iterators or when dealing with containers. Bad places are code that expects a certain type that is not immediately clear from the context.</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> i = var.begin();</div>
<div class="line"> </div>
<div class="line">std::vector&lt;CSizeInt&gt; list;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> j : list)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line">std::map&lt;std::string, std::vector&lt;int&gt;&gt;::iterator i = var.begin();</div>
</div><!-- fragment --><p >Use range-based for loops wherever it makes sense. If iterators are used, see above about using <code>auto</code>. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; : var)</div>
<div class="line">{</div>
<div class="line">  [...]</div>
<div class="line">}</div>
</div><!-- fragment --><p> Remove <code>const</code> if the value has to be modified. Do not use references to fundamental types that are not modified.</p>
<p >Use <code>\#pragma once</code>.</p>
<p >✅ Good: </p><div class="fragment"><div class="line">\#pragma once</div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line">\#ifndef <a class="code hl_define" href="../../d3/de6/code__guidelines_8dox.html#ac5a83f9effa6ab96c93acba7f7b01bf9">SOME_FILE_H_INCLUDED</a></div>
<div class="line"><span class="preprocessor">#define SOME_FILE_H_INCLUDED</span></div>
<div class="line">[...]</div>
<div class="line">\#endif</div>
<div class="ttc" id="acode__guidelines_8dox_html_ac5a83f9effa6ab96c93acba7f7b01bf9"><div class="ttname"><a href="../../d3/de6/code__guidelines_8dox.html#ac5a83f9effa6ab96c93acba7f7b01bf9">SOME_FILE_H_INCLUDED</a></div><div class="ttdeci">#define SOME_FILE_H_INCLUDED</div></div>
</div><!-- fragment --><p >Use the C++ <code>using</code> syntax when aliasing types (encouraged when it improves readability).</p>
<p >✅ Good: </p><div class="fragment"><div class="line"><span class="keyword">using</span> SizeType = <a class="code hl_function" href="../../d5/da2/addons_2kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_audio_decoder_8h.html#a7cf50aa7fa0b70b0ec6ff48e560157e1">int</a>;</div>
<div class="ttc" id="aaddons_2kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_audio_decoder_8h_html_a7cf50aa7fa0b70b0ec6ff48e560157e1"><div class="ttname"><a href="../../d5/da2/addons_2kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_audio_decoder_8h.html#a7cf50aa7fa0b70b0ec6ff48e560157e1">int</a></div><div class="ttdeci">typedef int(ATTR_APIENTRYP PFN_KODI_ADDON_AUDIODECODER_READ_PCM_V1)(const KODI_ADDON_AUDIODECODER_HDL hdl</div></div>
</div><!-- fragment --><p >❌ Bad: </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keywordtype">int</span> SizeType;</div>
</div><!-- fragment --><p >Usage of <code>goto</code> is discouraged.</p>
<p >Try to avoid using C macros. In many cases, they can be easily substituted with other non-macro constructs.</p>
<p >Prefer <code>constexpr</code> over <code>const</code> for constants when possible. Try to mark functions <code>constexpr</code> when reasonable. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d5a/contributing.html">3: Contributing</a></li>
    <li class="footer">Generated on Sun Dec 26 2021 17:33:20 for Kodi Docs by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  // script for doxygen 1.9.1
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
