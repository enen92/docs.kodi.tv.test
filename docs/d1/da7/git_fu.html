<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kodi Docs: Git tutorial</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Thumbnail-symbol-whitebg-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kodi Docs<span id="projectnumber">&#160;20.0</span>
   </div>
   <div id="projectbrief">Kodi is an open source media player and entertainment hub.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d1/da7/git_fu.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Git tutorial </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><img src="../../../resources/banner_slim.png" alt="Kodi Logo" class="inline"/></p>
<hr  />
<p>This guide is intended as a <b>simple, non-exhaustive, git reference source</b>. It will help you get acquainted with command-line <code>git</code>, even if you never imagined yourself touching the dreaded beast with a 3m pole (that's 10 feet for those across the pound).</p>
<p >It is streamlined to Kodi's <b><a href="https://help.github.com/articles/about-collaborative-development-models/">fork and pull</a></b> development workflow: create feature branch, write awesome code, open a pull request, get it reviewed by Kodi team members, merge pull request. Loop!</p>
<h1><a class="anchor" id="autotoc_md158"></a>
1. Introduction</h1>
<p ><a href="https://en.wikipedia.org/wiki/Git">git</a> is a distributed version control system, originally written by a brilliant, self-described <b><a href="https://lkml.org/lkml/2000/9/6/65">bastard</a></b>. It is not the most easy version control system (VCS for short) to work with but it is very intuitive <b>once</b> you understand some concepts. Some of the most important ones are outlined below.</p>
<p ><b>repository</b>: a place where files and their versioned history live. Also known as <b>repo</b>.</p>
<p ><b>upstream</b>: Kodi's <b><a href="https://github.com/xbmc/xbmc">main repository</a></b>. It's where everything you code will end up after review and a pull request (PR for short) is merged.</p>
<p ><b>master</b>: the repository's main branch. It is where all the code integration happens.</p>
<p ><b>remote</b>: the remote location of a repository, usually on some central server. Both Kodi's <b>main repository</b> and your <b>personal repository</b> are remotes.</p>
<p ><b>origin</b>: your <b>personal repository</b>. Everything you code will end up in your personal repository after you <code>push</code>. You're master and commander.</p>
<p ><b>fork</b>: create an exact copy of a remote repository, at that point in time, in your personal GitHub account.</p>
<p ><b>clone</b>: grab an exact copy of a remote repository, usually from your personal repository, and place it on your local machine.</p>
<p ><b>branch</b>: a magical place where what you code doesn't interfere with anything else. Think of it as an house compartment. You cook in the kitchen, sleep in the bedroom, have fun with friends while watching football in the living room, etc. Unlike house compartments, they are free and you can have as many as you like.</p>
<p ><b>commit</b>: chunk of code you committed to. You think it's the best code you've ever written, decided to hang on to it and maybe rule the world one day.</p>
<p ><b>pull request</b>: a request for someone to review your code and include it in Kodi's main repository.</p>
<p ><b>fetch</b>: grab code from an outside source, usually from the main repository.</p>
<p ><b>push</b>: send code to a remote repository, usually to your personal repository.</p>
<p ><b>merge</b>: merge a feature branch with another branch, usually master branch.</p>
<h1><a class="anchor" id="autotoc_md159"></a>
2. Document conventions</h1>
<p >This guide assumes you are using <code>terminal</code>, also known as <code>console</code>, <code>command-line</code> or simply <code>cli</code>. Commands need to be run at the terminal, one at a time and in the provided order.</p>
<p >This is a comment that provides context: </p><div class="fragment"><div class="line"><span class="keyword">this</span> is a command       <span class="comment">// this is an inline comment</span></div>
<div class="line"><span class="keyword">this</span> is another command <span class="comment">// you should not copy them</span></div>
<div class="line">and yet another one     <span class="comment">// to the terminal</span></div>
</div><!-- fragment --><p ><b>Example:</b> Clone Kodi's current master branch: </p><div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment --><p >Commands that contain strings enclosed in angle brackets denote something you need to change to suit your needs. </p><div class="fragment"><div class="line">git clone -b &lt;branch-name&gt; https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment --><p ><b>Example:</b> Clone Kodi's current Krypton branch: </p><div class="fragment"><div class="line">git clone -b Krypton https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment --><p >Several different strategies are used to draw your attention to certain pieces of information. In order of how critical the information is, these items are marked as a note, tip, or warning. For example:</p>
<dl class="section note"><dt>Note</dt><dd>Linux is user friendly... It's just very particular about who its friends are. <br  />
 </dd>
<dd>
<b>TIP:</b> Algorithm is what developers call code they do not want to explain. <br  />
 </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Developers don't change light bulbs. It's a hardware problem.</dd></dl>
<h1><a class="anchor" id="autotoc_md160"></a>
3. Prerequisites</h1>
<p >This guide assumes you have a <b><a href="https://github.com/join">GitHub account</a></b> and that you already <b><a href="https://github.com/xbmc/xbmc/fork/">forked Kodi's repository</a></b> into it.</p>
<p >It also assumes <code>git</code> is installed and an SSH key is <b><a href="https://help.github.com/articles/connecting-to-github-with-ssh/">properly configured</a></b>. How to install <code>git</code> can be found on our specific OS/distribution <b>build guides</b>.</p>
<p >Configure <code>git</code> globally so it knows who you are: </p><div class="fragment"><div class="line">git config --global user.email <span class="stringliteral">&quot;&lt;your-email&gt;&quot;</span></div>
<div class="line">git config --global user.name <span class="stringliteral">&quot;&lt;your-username&gt;&quot;</span></div>
</div><!-- fragment --><p >If you're a Windows user you also need: </p><div class="fragment"><div class="line">git config --global core.autocrlf <span class="keyword">true</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md161"></a>
4. Clone Kodi's repo into your machine</h1>
<p >Your forked Kodi's repository will hold everything you do when developing. For safety, you should push every branch and commit you make during development to your remote repository (your GitHub's Kodi fork). You should also be careful not to push sensitive data, credentials, etc. Once online, always online.</p>
<p >Clone your personal repository into your machine: </p><div class="fragment"><div class="line">cd $HOME                                                 <span class="comment">// change to your `home` directory</span></div>
<div class="line">git clone git@github.com:&lt;github-username&gt;/xbmc.git <a class="code hl_namespace" href="../../d5/df1/namespacekodi.html">kodi</a> <span class="comment">// clone your fork of Kodi&#39;s repo</span></div>
<div class="line">cd <a class="code hl_namespace" href="../../d5/df1/namespacekodi.html">kodi</a>                                                  <span class="comment">// change to the newly cloned repo directory</span></div>
<div class="line">git remote add upstream https:<span class="comment">//github.com/xbmc/xbmc.git // assign Kodi&#39;s main repo to a remote</span></div>
<div class="ttc" id="anamespacekodi_html"><div class="ttname"><a href="../../d5/df1/namespacekodi.html">kodi</a></div><div class="ttdef"><b>Definition:</b> addons/kodi-dev-kit/include/kodi/addon-instance/AudioDecoder.h:21</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><b>TIP:</b> Windows users should use <code>cd userprofile%</code> instead.</dd></dl>
<p>From this point forward, every command shown assumes you're inside <code>$HOME/kodi</code> or <code>userprofile%\kodi</code> if you're a Windows user. To get there, issue: </p><div class="fragment"><div class="line">cd $HOME/<a class="code hl_namespace" href="../../d5/df1/namespacekodi.html">kodi</a> <span class="comment">// or cd %userprofile%\kodi</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md162"></a>
5. Working with branches</h1>
<p >Never ever work on master branch. <b>Ever!</b> It will get you and probably us into unnecessary trouble. Always create a feature branch.</p>
<h2><a class="anchor" id="autotoc_md163"></a>
5.1. Create feature branch</h2>
<div class="fragment"><div class="line">git checkout master              <span class="comment">// make sure you&#39;re on master branch</span></div>
<div class="line">git checkout -b &lt;feature-branch&gt; <span class="comment">// create feature branch</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md164"></a>
5.2. Push feature branch to origin</h2>
<p >Pushing for the first time: </p><div class="fragment"><div class="line">git push --set-upstream origin &lt;feature-branch&gt;</div>
</div><!-- fragment --><p >Subsequent pushes: </p><div class="fragment"><div class="line">git push origin</div>
</div><!-- fragment --><p >Force pushing: </p><div class="fragment"><div class="line">git push -f origin</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md165"></a>
5.3. List branches</h2>
<p >List local branches: </p><div class="fragment"><div class="line">git branch</div>
</div><!-- fragment --><p >List local and remote branches: </p><div class="fragment"><div class="line">git branch -a</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md166"></a>
5.4. Switch between branches</h2>
<div class="fragment"><div class="line">git checkout &lt;feature-branch&gt; <span class="comment">// switch to feature branch</span></div>
<div class="line">git checkout master           <span class="comment">// switch back to master branch</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md167"></a>
5.5. Backup branch</h2>
<div class="fragment"><div class="line">git checkout &lt;feature-branch&gt;           <span class="comment">// switch to feature branch (the branch you want to backup)</span></div>
<div class="line">git checkout -b &lt;feature-branch&gt;-backup <span class="comment">// create a new branch based on feature branch</span></div>
<div class="line">git checkout &lt;feature-branch&gt;           <span class="comment">// switch back to feature branch</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md168"></a>
5.6. Check branch status</h2>
<p >Shows branch name, status in relation to remote origin branch, unstaged changes, etc: </p><div class="fragment"><div class="line">git status</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md169"></a>
5.7. Delete branch</h2>
<p >Delete local branch: </p><div class="fragment"><div class="line">git checkout master             <span class="comment">// make sure you&#39;re not on feature branch to delete</span></div>
<div class="line">git branch -<a class="code hl_variable" href="../../dc/dd7/modules__cpp__peripheral__lifetime__diagram__1_8dox.html#aaf197d8ceaf429ca633885c87f80458b">D</a> &lt;feature-branch&gt;  <span class="comment">// delete feature branch</span></div>
<div class="ttc" id="amodules__cpp__peripheral__lifetime__diagram__1_8dox_html_aaf197d8ceaf429ca633885c87f80458b"><div class="ttname"><a href="../../dc/dd7/modules__cpp__peripheral__lifetime__diagram__1_8dox.html#aaf197d8ceaf429ca633885c87f80458b">D</a></div><div class="ttdeci">dot digraph D</div><div class="ttdef"><b>Definition:</b> modules_cpp_peripheral_lifetime_diagram_1.dox:2</div></div>
</div><!-- fragment --><p >Delete remote branch: </p><div class="fragment"><div class="line">git push origin -d &lt;feature-branch&gt;</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Be careful deleting branches. Make sure you don't need them anymore.</dd></dl>
<h2><a class="anchor" id="autotoc_md170"></a>
5.8. Rebase branch</h2>
<div class="fragment"><div class="line">git checkout &lt;feature-branch&gt;  <span class="comment">// switch to feature branch in need of rebasing</span></div>
<div class="line">git fetch upstream             <span class="comment">// fetch upstream changes</span></div>
<div class="line">git rebase upstream/master     <span class="comment">// rebase feature branch on top of upstream master branch</span></div>
<div class="line">git push -f origin             <span class="comment">// force push updated feature branch to your personal remote repo</span></div>
</div><!-- fragment --><p >NOTE**: If you have a <b>pull request</b> open from that feature branch, this will also update it.</p>
<h1><a class="anchor" id="autotoc_md171"></a>
6. Syncing branches</h1>
<p >Keeping branches up-to-date is an excellent base for successful, stress-free coding. You should always start coding a new feature on top of the latest master branch. If you work on more than one machine, this also ensures your feature branch is always up-to-date with the latest changes.</p>
<h2><a class="anchor" id="autotoc_md172"></a>
6.1. Fetch master branch from upstream and sync local master branch with it</h2>
<p >If you cloned a while ago, you probably want to sync your local master branch with upstream's master branch. This is specially useful to ensure that your new feature branch is based on the latest code version: </p><div class="fragment"><div class="line">git checkout master       <span class="comment">// switch to master branch</span></div>
<div class="line">git fetch upstream        <span class="comment">// fetch upstream changes</span></div>
<div class="line">git merge upstream/master <span class="comment">// merge upstream changes</span></div>
<div class="line">git push origin           <span class="comment">// push updated master branch to your personal remote repo (optional)</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md173"></a>
6.2. Fetch feature branch from origin and sync local feature branch with it</h2>
<div class="fragment"><div class="line">git checkout &lt;feature-branch&gt;            <span class="comment">// switch to feature branch</span></div>
<div class="line">git fetch origin                         <span class="comment">// fetch origin changes</span></div>
<div class="line">git reset --hard origin/&lt;feature-branch&gt; <span class="comment">// reset feature branch</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md174"></a>
6.3. Push local feature branch to origin and sync remote feature branch with it</h2>
<div class="fragment"><div class="line">git checkout &lt;feature-branch&gt; <span class="comment">// switch to feature branch</span></div>
<div class="line">git push origin               <span class="comment">// push updated feature branch to your personal remote repo</span></div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Be <b>very careful</b> updating to and from origin. It can cause loss of work, specially if you work on more than one machine. Make sure your remote origin repo <b>always</b> holds the most up-to-date version of your code. <b>No, seriously</b>. Make a mental rule: <em>remote origin repo always holds the most up-to-date version of my code!</em> and <b>stick to it!</b> It's almost always possible to recover lost work with <code>git</code> but it's hard and unnecessary work if you follow some simple rules.</dd></dl>
<h1><a class="anchor" id="autotoc_md175"></a>
7. Working with commits</h1>
<p >All commit manipulating operations (commit, amend or fix a commit, etc.), start by adding your changes before committing: </p><div class="fragment"><div class="line">git add path/to/<a class="code hl_typedef" href="../../d5/da2/addons_2kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_audio_decoder_8h.html#aac7728e0ef7caeb247a167ca7d626b38">file</a>/filename <span class="comment">// add single file</span></div>
<div class="line">git add .                     <span class="comment">// add all files on current directory</span></div>
<div class="line">git add *                     <span class="comment">// add all files in current directory and subdirectories</span></div>
<div class="ttc" id="aaddons_2kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_audio_decoder_8h_html_aac7728e0ef7caeb247a167ca7d626b38"><div class="ttname"><a href="../../d5/da2/addons_2kodi-dev-kit_2include_2kodi_2c-api_2addon-instance_2_audio_decoder_8h.html#aac7728e0ef7caeb247a167ca7d626b38">file</a></div><div class="ttdeci">const char * file</div><div class="ttdef"><b>Definition:</b> addons/kodi-dev-kit/include/kodi/c-api/addon-instance/AudioDecoder.h:103</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md176"></a>
7.1. Create commit</h2>
<div class="fragment"><div class="line">git commit -m <span class="stringliteral">&quot;&lt;commit-description&gt;&quot;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md177"></a>
7.2. Amend last commit</h2>
<div class="fragment"><div class="line">git commit --amend</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md178"></a>
7.3. Rename last commit</h2>
<div class="fragment"><div class="line">git commit --amend <span class="comment">// change commit message in your editor and save</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md179"></a>
7.4. Delete last commit</h2>
<p >Delete last commit but keep all the changes it encompasses: </p><div class="fragment"><div class="line">git reset <a class="code hl_enumvalue" href="../../dd/d91/_i_h_t_t_p_request_handler_8h.html#a837a089a977b319a11edfb8022d9e47da0b0955668575b21eb0ab2272aef49f76">HEAD</a>~</div>
<div class="ttc" id="a_i_h_t_t_p_request_handler_8h_html_a837a089a977b319a11edfb8022d9e47da0b0955668575b21eb0ab2272aef49f76"><div class="ttname"><a href="../../dd/d91/_i_h_t_t_p_request_handler_8h.html#a837a089a977b319a11edfb8022d9e47da0b0955668575b21eb0ab2272aef49f76">HEAD</a></div><div class="ttdeci">@ HEAD</div><div class="ttdef"><b>Definition:</b> IHTTPRequestHandler.h:39</div></div>
</div><!-- fragment --><p >Delete last commit, <b>including all the changes</b> it encompasses: </p><div class="fragment"><div class="line">git reset --hard <a class="code hl_enumvalue" href="../../dd/d91/_i_h_t_t_p_request_handler_8h.html#a837a089a977b319a11edfb8022d9e47da0b0955668575b21eb0ab2272aef49f76">HEAD</a>~</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md180"></a>
7.5. Fix commit</h2>
<div class="fragment"><div class="line">git commit --fixup &lt;commit-sha&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md181"></a>
7.6. List commits</h2>
<div class="fragment"><div class="line">git <a class="code hl_function" href="../../d6/db2/group__python__xbmc.html#ga3cd3eff2195727144ad6fbabd4744961">log</a> --pretty=oneline --abbrev-commit</div>
<div class="ttc" id="agroup__python__xbmc_html_ga3cd3eff2195727144ad6fbabd4744961"><div class="ttname"><a href="../../d6/db2/group__python__xbmc.html#ga3cd3eff2195727144ad6fbabd4744961">log</a></div><div class="ttdeci">log(...)</div><div class="ttdoc">&lt;h4&gt;&lt;code&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;Function: &lt;/span&gt;&lt;span style=&quot;font-style: bold;&quot;&gt;&lt;font co...</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md182"></a>
7.7. Cherry-pick commits</h2>
<div class="fragment"><div class="line">git checkout &lt;feature-branch&gt;            <span class="comment">// switch to branch with commit(s) you want to cherry-pick</span></div>
<div class="line">git <a class="code hl_function" href="../../d6/db2/group__python__xbmc.html#ga3cd3eff2195727144ad6fbabd4744961">log</a> --pretty=oneline --abbrev-commit <span class="comment">// list commits. take note of the commit(s) `sha`</span></div>
<div class="line">git checkout &lt;other-feature-branch&gt;      <span class="comment">// switch to branch that will receive cherry-picked commit(s)</span></div>
<div class="line">git cherry-pick &lt;sha&gt;                    <span class="comment">// cherry-pick commit</span></div>
<div class="line">git cherry-pick &lt;sha&gt;                    <span class="comment">// cherry-pick another commit</span></div>
<div class="line">git cherry-pick &lt;sha&gt;                    <span class="comment">// you get the point</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md183"></a>
8. Examples with nice screenies</h1>
<p >A picture is worth a thousand words.</p>
<h2><a class="anchor" id="autotoc_md184"></a>
8.1. Rebase branch</h2>
<p >Check if branch is clean and has no uncommitted changes:</p>
<div> <img src="../../../resources/gitfu/rebase_branch_01.png" alt="Rebase branch 01" class="inline"/> </div><p >Fetch upstream changes and rebase feature branch on top of upstream master branch:</p>
<div> <img src="../../../resources/gitfu/rebase_branch_02.png" alt="Rebase branch 02" class="inline"/> </div><p >Force push branch to remote origin:</p>
<div> <img src="../../../resources/gitfu/rebase_branch_03.png" alt="Rebase branch 03" class="inline"/> </div><h2><a class="anchor" id="autotoc_md185"></a>
8.2. Fix commits</h2>
<p >Check unstaged changes:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_01.png" alt="Fix commits 01" class="inline"/></div><div></div><p >Add changes and check again:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_02.png" alt="Fix commits 02" class="inline"/></div><div></div><p >Print a nice commits log and copy <code>b2184ab68a</code>, the <code>sha</code> of the commit we want to fix:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_03.png" alt="Fix commits 03" class="inline"/></div><div></div><p >Commit the changes with <code>git commit --fixup b2184ab68a</code> to reference the commit in need of fixing:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_04.png" alt="Fix commits 04" class="inline"/></div><div></div><p >Check if everything is OK and count how many commits we need to use for an <code>autosquash</code> rebase (we need nine commits because commit in need of fixing is the ninth commit, including the <code>fixup</code> commit):</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_05.png" alt="Fix commits 05" class="inline"/></div><div></div><p >Due to the nature of the <code>git rebase -i --autosquash HEAD~9</code> command (opens editor right away), command doesn't show up on this screenshot. See next screenshot. How it looks after <code>git</code> re-orders commits automagically:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_06.png" alt="Fix commits 06" class="inline"/></div><div></div><p >NOTE**: These examples use <code>nano</code> as default <code>git</code> editor to keep things simple. Press <code>Ctrl+X</code> to exit and accept the changes.</p>
<p >A successful message after rebase with <code>autosquash</code>:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_07.png" alt="Fix commits 07" class="inline"/></div><div></div><p >Finally, force push branch to remote origin:</p>
<div></div><div><img src="../../../resources/gitfu/fix_commits_08.png" alt="Fix commits 08" class="inline"/></div><div></div><p >TIP**: It doesn't matter how many <code>fixup</code> commits you have on your feature branch. The only thing that matters is the number of the <b>first</b> commit with a <code>fixup</code> commit. If you're unsure of how many commits that is, issue <code>git log --pretty=oneline --abbrev-commit</code>, count from your <b>first commit</b> on the feature branch and use that number instead. In this example, that would be 28, e.g. <code>git rebase -i --autosquash HEAD~28</code>. <code>git</code> will take care of the rest automagically.</p>
<h1><a class="anchor" id="autotoc_md186"></a>
9. Going pro</h1>
<p >Got this far? Congrats! Now it gets fun!</p>
<h2><a class="anchor" id="autotoc_md187"></a>
9.1. Fetch an upstream pull request</h2>
<p >The ability to test pull requests before merging them is very useful. This is how to do it: </p><div class="fragment"><div class="line">git fetch upstream pull/&lt;pull-request-<a class="code hl_enumvalue" href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">ID</a>&gt;/head:&lt;branch-name-or-pull-request-<a class="code hl_enumvalue" href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">ID</a>-or-whatever&gt;</div>
<div class="line">git checkout &lt;branch-name-or-pull-request-<a class="code hl_enumvalue" href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">ID</a>-or-whatever&gt;</div>
<div class="ttc" id="a_web_v_t_t_handler_8h_html_af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308"><div class="ttname"><a href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">WebvttSelector::ID</a></div><div class="ttdeci">@ ID</div></div>
</div><!-- fragment --><p >Build Kodi as usual, following our <b>build guides</b>.</p>
<h2><a class="anchor" id="autotoc_md188"></a>
9.2. Fetch a pull request someone submitted to your repository</h2>
<p >Yes, someone might open a pull request to your repository. Be happy that folks want to work with you.</p>
<p >Same thing as above except that <code>upstream</code> is now <code>origin</code>. They are both remote repositories, remember? </p><div class="fragment"><div class="line">git fetch origin pull/&lt;pull-request-<a class="code hl_enumvalue" href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">ID</a>&gt;/head:&lt;branch-name-or-pull-request-<a class="code hl_enumvalue" href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">ID</a>-or-whatever&gt;</div>
<div class="line">git checkout &lt;branch-name-or-pull-request-<a class="code hl_enumvalue" href="../../d4/d0b/_web_v_t_t_handler_8h.html#af8e7d1d3bb1cc7ce126b3387ccbb80e6ab718adec73e04ce3ec720dd11a06a308">ID</a>-or-whatever&gt;</div>
</div><!-- fragment --><p >TIP**: Every pull request has an unique ID. For instance, the original pull request for this guide is <b><a href="https://github.com/xbmc/xbmc/pull/14072">PR14072</a></b>. Its ID is <b>14072</b>.</p>
<p >If you want to try it, issue: </p><div class="fragment"><div class="line">git fetch upstream pull/14072/head:PR14072 <span class="comment">// branch name can be anything</span></div>
<div class="line">git checkout PR14072                       <span class="comment">// switch to branch</span></div>
</div><!-- fragment --><p >and see the original version of this documentation in all its glorious might.</p>
<h2><a class="anchor" id="autotoc_md189"></a>
9.3. Fetch a pull request or commit and apply them to another branch</h2>
<p >Also very useful is the ability to fetch a complete pull request or a single commit and apply it to your <b>current</b> branch, instead of creating a new branch like the method outlined above.</p>
<p >Similarly to the method above, find the PR you want to fetch, <b><a href="https://github.com/xbmc/xbmc/pull/14072">PR14072</a></b> for instance, and append <code>.patch</code> to the URL. GitHub will generate a formatted patch and show you the output. Copy that URL and choose your next move below.</p>
<p >Apply the changes to your branch but do not commit them (changes will be kept unstaged): </p><div class="fragment"><div class="line">curl -L https:<span class="comment">//patch-diff.githubusercontent.com/raw/xbmc/xbmc/pull/14072.patch | git apply -</span></div>
</div><!-- fragment --><p >Apply the changes to your branch with the original commit(s) message(s): </p><div class="fragment"><div class="line">curl -L https:<span class="comment">//patch-diff.githubusercontent.com/raw/xbmc/xbmc/pull/14072.patch | git am -</span></div>
</div><!-- fragment --><p >The same tricks work for a single commit. Just find a commit you'd like to fetch, <b><a href="https://github.com/xbmc/xbmc/pull/14072/commits/bb62d22f0d62b20ebc2325f7820a37759839efe0">[README] Kodi's codebase new face</a></b> for instance, append <code>.patch</code> to the URL and follow the instructions above.</p>
<h1><a class="anchor" id="autotoc_md190"></a>
10. Other resources</h1>
<p ><code>git</code> is an incredibly powerful VCS. It's next to impossible to document everything it can do because it's so versatile, many tasks can be achieved in more than one way, and what works for a developer might not work for another. How one uses it heavily depends on the implemented workflow and, to some extent, personal taste. With that in mind, below are listed some external git resources worth a look with many exotic examples. Some you might only need once in a lifetime.</p>
<p ><b><a href="https://github.com/git-tips/tips">git-tips</a></b> <b><a href="https://github.com/arslanbilal/git-cheat-sheet">git-cheat-sheet</a></b></p>
<h2><a class="anchor" id="autotoc_md191"></a>
10.1. Using git alias</h2>
<p >Aliases are a great <code>git</code> feature. Instead of typing - and remembering - a long and boring command, one can instruct <code>git</code> to perform an action with a much shorter command. Hence the name aliases.</p>
<p >The command to add an alias to <code>git</code> is simple: <code>git config --global --add alias.&lt;alias&gt; &lt;command&gt;</code>.</p>
<p >For example, add an alias <code>st</code> to <code>status</code>: </p><div class="fragment"><div class="line">git config --global --add alias.st status</div>
</div><!-- fragment --><p >Now you can just type <code>git st</code> instead of <code>git status</code>. Saves you a mammoth four keystrokes.</p>
<p >Some of my favorite aliases are:</p>
<p ><code>slog</code> instead of <code>log --pretty=oneline --abbrev-commit</code>: </p><div class="fragment"><div class="line">git config --global --add alias.slog <span class="stringliteral">&quot;log --pretty=oneline --abbrev-commit&quot;</span></div>
</div><!-- fragment --><p ><code>ema</code> instead of <code>cherry-pick</code>: </p><div class="fragment"><div class="line">git config --global --add alias.ema cherry-pick</div>
</div><!-- fragment --><p ><code>lg</code> instead of &lsquo;log --graph --pretty=format:&rsquo;CredhCreset -C(yellow)dCreset s Cgreen(cr) C(bold blue)&lt;an&gt;Creset' &ndash;abbrev-commit &ndash;date=relative`: </p><div class="fragment"><div class="line">git config --global --add alias.lg <span class="stringliteral">&quot;log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit --date=relative&quot;</span></div>
</div><!-- fragment --><p ><code>fix</code> instead of <code>commit --fixup</code>: </p><div class="fragment"><div class="line">git config --global --add alias.fix <span class="stringliteral">&quot;commit --fixup&quot;</span> <span class="comment">// git fix &lt;commit-sha&gt;</span></div>
</div><!-- fragment --><p ><code>fixer</code> instead of <code>rebase -i --autosquash</code>: </p><div class="fragment"><div class="line">git config --global --add alias.fixer <span class="stringliteral">&quot;rebase -i --autosquash&quot;</span> <span class="comment">// git fixer HEAD~10 will autosquash the last 10 commits</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d5a/contributing.html">3: Contributing</a></li>
    <li class="footer">Generated on Sun Dec 26 2021 17:33:20 for Kodi Docs by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  // script for doxygen 1.9.1
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
