<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kodi Docs: Debian/Ubuntu build guide</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Thumbnail-symbol-whitebg-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kodi Docs<span id="projectnumber">&#160;20.0</span>
   </div>
   <div id="projectbrief">Kodi is an open source media player and entertainment hub.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/dc8/build_ubuntua.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Debian/Ubuntu build guide </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><img src="../../../resources/banner_slim.png" alt="Kodi Logo" class="inline"/><hr  />
<p> This guide has been tested with Ubuntu 16.04.4 (Xenial) x86_64, 18.04 (Bionic) and 20.04 (Focal). Please read it in full before you proceed to familiarize yourself with the build procedure.Several other distributions have <b>specific build guides</b> and a general <b>Linux build guide</b> is also available.<h1>1. Document conventions </h1>
This guide assumes you are using <code>terminal</code>, also known as <code>console</code>, <code>command-line</code> or simply <code>cli</code>. Commands need to be run at the terminal, one at a time and in the provided order.This is a comment that provides context:<div class="fragment"><div class="line"><span class="keyword">this</span> is a command</div>
<div class="line"> </div>
<div class="line"><span class="keyword">this</span> is another command</div>
<div class="line"> </div>
<div class="line">and yet another one</div>
</div><!-- fragment --><b>Example:</b> Clone Kodi's current master branch:<div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment -->Commands that contain strings enclosed in angle brackets denote something you need to change to suit your needs.<div class="fragment"><div class="line">git clone -b &lt;branch-name&gt; https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment --><b>Example:</b> Clone Kodi's current Krypton branch:<div class="fragment"><div class="line">git clone -b Krypton https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment -->Several different strategies are used to draw your attention to certain pieces of information. In order of how critical the information is, these items are marked as a note, tip, or warning. For example:<dl class="section note"><dt>Note</dt><dd>Linux is user friendly... It's just very particular about who its friends are. <br  />
</dd>
<dd>
<b>TIP:</b> Algorithm is what developers call code they do not want to explain. <br  />
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Developers don't change light bulbs. It's a hardware problem.</dd></dl>
<h1>2. Get the source code </h1>
Make sure <code>git</code> is installed:<div class="fragment"><div class="line">sudo apt install git</div>
</div><!-- fragment -->Change to your <code>home</code> directory:<div class="fragment"><div class="line">cd $HOME</div>
</div><!-- fragment -->Clone Kodi's current master branch:<div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/xbmc/xbmc kodi</span></div>
</div><!-- fragment --><h1>3. Install the required packages </h1>
You can install the required packages using one of two methods: automagically or manually. Please use the former whenever possible.<dl class="section warning"><dt>Warning</dt><dd>Oldest supported Ubuntu version is 16.04 (Xenial). It is possible to build on older Ubuntu releases but due to outdated packages it will require considerable fiddling. Sorry, you're on your own if you decide to go down that particular rabbit hole.</dd></dl>
<h2>3.1. Get build dependencies automagically </h2>
Add Kodi's <em>nightly</em> PPA to grab dependencies:<div class="fragment"><div class="line">sudo add-apt-repository -s ppa:team-xbmc/xbmc-nightly</div>
</div><!-- fragment -->If you're using Ubuntu 16.04, <em>build-depends</em> PPA is also required:<div class="fragment"><div class="line">sudo add-apt-repository ppa:team-xbmc/xbmc-ppa-<a class="code hl_namespace" href="../../d9/d45/namespacebuild.html">build</a>-depends</div>
<div class="line"> </div>
<div class="line">sudo apt update</div>
<div class="ttc" id="anamespacebuild_html"><div class="ttname"><a href="../../d9/d45/namespacebuild.html">build</a></div><div class="ttdef"><b>Definition:</b> build.py:1</div></div>
</div><!-- fragment -->Super-duper magic command to get the build dependencies:<div class="fragment"><div class="line">sudo apt <a class="code hl_namespace" href="../../d9/d45/namespacebuild.html">build</a>-dep <a class="code hl_namespace" href="../../d5/df1/namespacekodi.html">kodi</a></div>
<div class="ttc" id="anamespacekodi_html"><div class="ttname"><a href="../../d5/df1/namespacekodi.html">kodi</a></div><div class="ttdef"><b>Definition:</b> addons/kodi-dev-kit/include/kodi/addon-instance/AudioDecoder.h:21</div></div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Do not use <code>aptitude</code> for the <code>build-dep</code> command. It doesn't resolve everything properly.</dd></dl>
<p>If at a later point you decide you do not want Kodi's PPAs on your system, removing them is as easy as:<div class="fragment"><div class="line">sudo add-apt-repository -r ppa:team-xbmc/xbmc-nightly</div>
<div class="line"> </div>
<div class="line">sudo add-apt-repository -r ppa:team-xbmc/xbmc-ppa-<a class="code hl_namespace" href="../../d9/d45/namespacebuild.html">build</a>-depends</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>For developers and anyone else who builds frequently it is recommended to install <code>ccache</code> to expedite subsequent builds of Kodi.</dd></dl>
<p>You can install it with:<div class="fragment"><div class="line">sudo apt install ccache</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><b>TIP:</b> If you have multiple computers at home, <code>distcc</code> will distribute build workloads of C and C++ code across several machines on a network. Team Kodi may not be willing to give support if problems arise using such a build configuration.</dd></dl>
<p>You can install it with:<div class="fragment"><div class="line">sudo apt install distcc</div>
</div><!-- fragment --><h2>3.2. Get build dependencies manually </h2>
If you get a <code>package not found</code> type of message with the below command, remove the offending package(s) from the install list and reissue the command. Take a note of the missing dependencies and, after a successful step completion, <b><a href="../../README.Linux.md#31-build-missing-dependencies">build the missing dependencies manually</a></b>.<dl class="section note"><dt>Note</dt><dd>Kodi requires a compiler with C++17 support, i.e. gcc &gt;= 7 or clang &gt;= 5</dd></dl>
<p>Install build dependencies manually:<div class="fragment"><div class="line">sudo apt install debhelper autoconf automake autopoint gettext autotools-dev cmake curl <span class="keywordflow">default</span>-jre doxygen gawk gcc gdc gperf libasound2-dev libass-dev libavahi-client-dev libavahi-common-dev libbluetooth-dev libbluray-dev libbz2-dev libcdio-dev libp8-platform-dev libcrossguid-dev libcurl4-openssl-dev libcwiid-dev libdbus-1-dev libdrm-dev libegl1-mesa-dev libenca-dev libflac-dev <a class="code hl_namespace" href="../../d7/d2d/namespaceflatbuffers.html">flatbuffers</a>-dev libfmt-dev libfontconfig-dev libfreetype6-dev libfribidi-dev libfstrcmp-dev libgcrypt-dev libgif-dev libgles2-mesa-dev libgl1-mesa-dev libglu1-mesa-dev libgnutls28-dev libgpg-error-dev libgtest-dev libiso9660-dev libjpeg-dev liblcms2-dev libltdl-dev liblzo2-dev libmicrohttpd-dev libmysqlclient-dev libnfs-dev libogg-dev libpcre3-dev libplist-dev libpng-dev libpulse-dev libshairplay-dev libsmbclient-dev libspdlog-dev libsqlite3-dev libssl-dev libtag1-dev libtiff5-dev libtinyxml-dev libtool libudev-dev libva-dev libvdpau-dev libvorbis-dev libxmu-dev libxrandr-dev libxslt1-dev libxt-dev lsb-release meson nasm ninja-<a class="code hl_namespace" href="../../d9/d45/namespacebuild.html">build</a> python3-dev python3-pil python3-pip rapidjson-dev swig unzip uuid-dev zip zlib1g-dev</div>
<div class="ttc" id="anamespaceflatbuffers_html"><div class="ttname"><a href="../../d7/d2d/namespaceflatbuffers.html">flatbuffers</a></div><div class="ttdef"><b>Definition:</b> SavestateFlatBuffer.h:18</div></div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Make sure you copy paste the entire line or you might receive an error or miss a few dependencies.</dd></dl>
<p>If you're using Ubuntu 16.04, you also need to install:<div class="fragment"><div class="line">sudo apt install libcec4-dev libfmt3-dev liblircclient-dev</div>
</div><!-- fragment -->If you're using Ubuntu 18.04 and later, you also need to install:<div class="fragment"><div class="line">sudo apt install libcec-dev libfmt-dev liblirc-dev</div>
</div><!-- fragment -->Building for Wayland requires some extra packages:<div class="fragment"><div class="line">sudo apt install libglew-dev libwayland-dev libxkbcommon-dev waylandpp-dev <a class="code hl_namespace" href="../../dc/d03/namespacewayland.html">wayland</a>-protocols</div>
<div class="ttc" id="anamespacewayland_html"><div class="ttname"><a href="../../dc/d03/namespacewayland.html">wayland</a></div><div class="ttdef"><b>Definition:</b> WinEventsWayland.h:17</div></div>
</div><!-- fragment -->Similarly, building for GBM also requires some extra packages:<div class="fragment"><div class="line">sudo apt install libgbm-dev libinput-dev libxkbcommon-dev</div>
</div><!-- fragment -->Optional packages that you might want to install for extra functionality (generating doxygen documentation, for instance):<div class="fragment"><div class="line">sudo apt install doxygen libcap-dev libsndio-dev libmariadbd-dev</div>
</div><!-- fragment --><h2>3.3 Ubuntu &lt;= 18.04 </h2>
Ubuntu 18.04 and lower ship an outdated <a href="https://mesonbuild.com/">Meson</a> and <a href="https://nasm.us/">nasm</a> package.In order to compile Kodi with AV1 support, you have to manually update both Meson and nasm.<blockquote class="doxtable">
<p >This is a requirement by the <a href="https://code.videolan.org/videolan/dav1d">dav1d</a> AV1 decoder used in ffmpeg. </p>
</blockquote>
<h2># Meson </h2>
<div class="fragment"><div class="line">pip3 install --user meson</div>
</div><!-- fragment -->Make sure <code>~/.local/bin</code> is in your PATH.Verify your Meson version by running <code>meson -v</code>. The version displayed should be &gt;= 0.47.0.<h2># nasm (x86_64 / amd64) </h2>
<div class="fragment"><div class="line">wget https:<span class="comment">//mirrors.edge.kernel.org/ubuntu/pool/universe/n/nasm/nasm_2.14-1_amd64.deb &amp;&amp; sudo apt install ./nasm_2.14-1_amd64.deb</span></div>
</div><!-- fragment -->Verify your nasm version by running <code>nasm -v</code>. The version displayed should be &gt;= 2.14.<h1>4. Build Kodi </h1>
See the general <b>Linux build guide</b> for reference. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../db/dbb/buildinga.html">4: Buildinga</a></li>
    <li class="footer">Generated on Sat Dec 25 2021 12:36:40 for Kodi Docs by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<script type="text/javascript">
  // script for doxygen 1.9.1
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
